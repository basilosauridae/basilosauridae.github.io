<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>Vue3æ ¸å¿ƒæºç è§£æ | Ying's BlogğŸ—</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.f5dbb005.js"><link rel="modulepreload" href="/assets/0309.html.014143d8.js"><link rel="modulepreload" href="/assets/0309.html.d8075a59.js"><link rel="prefetch" href="/assets/index.html.bee2986f.js"><link rel="prefetch" href="/assets/books.html.7dfc5faa.js"><link rel="prefetch" href="/assets/introduce.html.d56ef50f.js"><link rel="prefetch" href="/assets/mycat.html.76ae5dfe.js"><link rel="prefetch" href="/assets/noun.html.f9eadada.js"><link rel="prefetch" href="/assets/standard.html.f914a9fc.js"><link rel="prefetch" href="/assets/thingy.html.96c8dc17.js"><link rel="prefetch" href="/assets/colorful.html.f53e56d2.js"><link rel="prefetch" href="/assets/magic.html.4afdaa6c.js"><link rel="prefetch" href="/assets/reset.html.c35303fc.js"><link rel="prefetch" href="/assets/shadow.html.c83b6fa3.js"><link rel="prefetch" href="/assets/whirligig.html.86012065.js"><link rel="prefetch" href="/assets/advancedUsage.html.c1c85455.js"><link rel="prefetch" href="/assets/vue2application.html.4067f29c.js"><link rel="prefetch" href="/assets/vue2principle.html.ad6ccbc7.js"><link rel="prefetch" href="/assets/Vue3new.html.8ae620b8.js"><link rel="prefetch" href="/assets/vueRouter.html.f2be6c78.js"><link rel="prefetch" href="/assets/vueState.html.2c4a0b55.js"><link rel="prefetch" href="/assets/0201.html.ed2b9432.js"><link rel="prefetch" href="/assets/0501.html.4d1f86da.js"><link rel="prefetch" href="/assets/0708.html.545fab33.js"><link rel="prefetch" href="/assets/0708.html.87462489.js"><link rel="prefetch" href="/assets/0915.html.264361c0.js"><link rel="prefetch" href="/assets/0708.html.5a31b339.js"><link rel="prefetch" href="/assets/0810.html.54d85a4c.js"><link rel="prefetch" href="/assets/0815.html.d164561f.js"><link rel="prefetch" href="/assets/0910.html.3fddff83.js"><link rel="prefetch" href="/assets/0915.html.06402ddb.js"><link rel="prefetch" href="/assets/1001.html.4f2f2d32.js"><link rel="prefetch" href="/assets/1112.html.30c6b1f1.js"><link rel="prefetch" href="/assets/0101.html.1196ed22.js"><link rel="prefetch" href="/assets/0106.html.3283102c.js"><link rel="prefetch" href="/assets/0228.html.6e9b9779.js"><link rel="prefetch" href="/assets/0229.html.50861df2.js"><link rel="prefetch" href="/assets/0308.html.559a7f67.js"><link rel="prefetch" href="/assets/0324.html.6850bd1b.js"><link rel="prefetch" href="/assets/0417.html.a7409d8f.js"><link rel="prefetch" href="/assets/0418.html.337084f0.js"><link rel="prefetch" href="/assets/0422.html.6ba096c7.js"><link rel="prefetch" href="/assets/0501.html.3e18b2f8.js"><link rel="prefetch" href="/assets/0614.html.ee6c6e70.js"><link rel="prefetch" href="/assets/404.html.d341cb57.js"><link rel="prefetch" href="/assets/index.html.e94281b4.js"><link rel="prefetch" href="/assets/index.html.06e94a81.js"><link rel="prefetch" href="/assets/index.html.4ec681e3.js"><link rel="prefetch" href="/assets/index.html.8bbd2553.js"><link rel="prefetch" href="/assets/index.html.96fef93f.js"><link rel="prefetch" href="/assets/index.html.76f5d555.js"><link rel="prefetch" href="/assets/index.html.f5245796.js"><link rel="prefetch" href="/assets/index.html.00324c95.js"><link rel="prefetch" href="/assets/index.html.5864ec6d.js"><link rel="prefetch" href="/assets/index.html.0a1c4b44.js"><link rel="prefetch" href="/assets/index.html.db5d0cde.js"><link rel="prefetch" href="/assets/index.html.583cba6e.js"><link rel="prefetch" href="/assets/index.html.66866bf6.js"><link rel="prefetch" href="/assets/index.html.ca6945dd.js"><link rel="prefetch" href="/assets/index.html.4425e3ac.js"><link rel="prefetch" href="/assets/index.html.ac92a948.js"><link rel="prefetch" href="/assets/index.html.234a4022.js"><link rel="prefetch" href="/assets/index.html.72ac4063.js"><link rel="prefetch" href="/assets/index.html.b57762aa.js"><link rel="prefetch" href="/assets/index.html.08b3a957.js"><link rel="prefetch" href="/assets/index.html.9cbf2d78.js"><link rel="prefetch" href="/assets/index.html.4bc70fa1.js"><link rel="prefetch" href="/assets/index.html.7d530fd6.js"><link rel="prefetch" href="/assets/index.html.d768d1fd.js"><link rel="prefetch" href="/assets/books.html.42a9fbf2.js"><link rel="prefetch" href="/assets/introduce.html.81372d38.js"><link rel="prefetch" href="/assets/mycat.html.84c595ef.js"><link rel="prefetch" href="/assets/noun.html.6aab6ad8.js"><link rel="prefetch" href="/assets/standard.html.49c1531a.js"><link rel="prefetch" href="/assets/thingy.html.7751b4e7.js"><link rel="prefetch" href="/assets/colorful.html.869c5323.js"><link rel="prefetch" href="/assets/magic.html.4023b03e.js"><link rel="prefetch" href="/assets/reset.html.cffb1515.js"><link rel="prefetch" href="/assets/shadow.html.7b0bca80.js"><link rel="prefetch" href="/assets/whirligig.html.c607c438.js"><link rel="prefetch" href="/assets/advancedUsage.html.7aa8d382.js"><link rel="prefetch" href="/assets/vue2application.html.7ffd4204.js"><link rel="prefetch" href="/assets/vue2principle.html.e836b16c.js"><link rel="prefetch" href="/assets/Vue3new.html.cb4888ff.js"><link rel="prefetch" href="/assets/vueRouter.html.641a279f.js"><link rel="prefetch" href="/assets/vueState.html.f0ea78f1.js"><link rel="prefetch" href="/assets/0201.html.fafeac55.js"><link rel="prefetch" href="/assets/0501.html.a0e76bd9.js"><link rel="prefetch" href="/assets/0708.html.169b5839.js"><link rel="prefetch" href="/assets/0708.html.a1d9b7c4.js"><link rel="prefetch" href="/assets/0915.html.1f630a56.js"><link rel="prefetch" href="/assets/0708.html.8673c1d4.js"><link rel="prefetch" href="/assets/0810.html.f391e045.js"><link rel="prefetch" href="/assets/0815.html.10c2ab7a.js"><link rel="prefetch" href="/assets/0910.html.a66f7a1d.js"><link rel="prefetch" href="/assets/0915.html.d8452557.js"><link rel="prefetch" href="/assets/1001.html.8a666b5a.js"><link rel="prefetch" href="/assets/1112.html.c7ff8b20.js"><link rel="prefetch" href="/assets/0101.html.85ae5d85.js"><link rel="prefetch" href="/assets/0106.html.0ea1c639.js"><link rel="prefetch" href="/assets/0228.html.6c4904c9.js"><link rel="prefetch" href="/assets/0229.html.b2362605.js"><link rel="prefetch" href="/assets/0308.html.b6f8aa01.js"><link rel="prefetch" href="/assets/0324.html.1c37bf8d.js"><link rel="prefetch" href="/assets/0417.html.eeae81d4.js"><link rel="prefetch" href="/assets/0418.html.6fb08508.js"><link rel="prefetch" href="/assets/0422.html.dfc65fad.js"><link rel="prefetch" href="/assets/0501.html.9abe6cef.js"><link rel="prefetch" href="/assets/0614.html.955e6209.js"><link rel="prefetch" href="/assets/404.html.74faaf0b.js"><link rel="prefetch" href="/assets/index.html.7b51b34f.js"><link rel="prefetch" href="/assets/index.html.b119fca4.js"><link rel="prefetch" href="/assets/index.html.0e253ade.js"><link rel="prefetch" href="/assets/index.html.6b439f8f.js"><link rel="prefetch" href="/assets/index.html.d1fe354e.js"><link rel="prefetch" href="/assets/index.html.ffb5b9f4.js"><link rel="prefetch" href="/assets/index.html.a388d935.js"><link rel="prefetch" href="/assets/index.html.f8e8ed95.js"><link rel="prefetch" href="/assets/index.html.023af915.js"><link rel="prefetch" href="/assets/index.html.38f03275.js"><link rel="prefetch" href="/assets/index.html.90858d6c.js"><link rel="prefetch" href="/assets/index.html.d074f2a3.js"><link rel="prefetch" href="/assets/index.html.ed340edb.js"><link rel="prefetch" href="/assets/index.html.f6fff611.js"><link rel="prefetch" href="/assets/index.html.dfee33b6.js"><link rel="prefetch" href="/assets/index.html.c70d0e90.js"><link rel="prefetch" href="/assets/index.html.e866d985.js"><link rel="prefetch" href="/assets/index.html.2662245e.js"><link rel="prefetch" href="/assets/index.html.0a057976.js"><link rel="prefetch" href="/assets/index.html.f86749a6.js"><link rel="prefetch" href="/assets/index.html.6e4c02b4.js"><link rel="prefetch" href="/assets/index.html.84194677.js"><link rel="prefetch" href="/assets/index.html.9d5f9f73.js"><link rel="prefetch" href="/assets/404.15bdd693.js"><link rel="prefetch" href="/assets/Categories.4aee3718.js"><link rel="prefetch" href="/assets/Layout.16e334e1.js"><link rel="prefetch" href="/assets/Post.b75ab6d3.js"><link rel="prefetch" href="/assets/Timeline.7be7d042.js"><link rel="prefetch" href="/assets/reco-valine.88224ab5.js"><link rel="prefetch" href="/assets/bookNotes.d4a5f9f9.js"><link rel="prefetch" href="/assets/colorfulCard.0ae8592a.js"><link rel="prefetch" href="/assets/flowerCat.50259e09.js"><link rel="prefetch" href="/assets/magicCard.d9011a11.js"><link rel="prefetch" href="/assets/whirligig.e4d695a1.js"><link rel="prefetch" href="/assets/irregularShadow.23d1d550.js"><link rel="prefetch" href="/assets/normalShadow.aa092cf6.js">
    <link rel="stylesheet" href="/assets/style.388d3920.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/" class=""><img class="logo" src="/logo.png" alt="Ying&#39;s BlogğŸ—"><span class="site-name can-hide">Ying&#39;s BlogğŸ—</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾">å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾ <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾"><span class="title"><span>å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" aria-label="é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—"><!--[--><!--]--> é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://7gugu.com/" target="_blank" rel="noopener noreferrer" aria-label="7gugu&#39;s Blog"><!--[--><!--]--> 7gugu&#39;s Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://blog.starsharbor.com/" target="_blank" rel="noopener noreferrer" aria-label="â–æ˜Ÿæ¸¯â—Starâ˜†"><!--[--><!--]--> â–æ˜Ÿæ¸¯â—Starâ˜† <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://booop.net/" target="_blank" rel="noopener noreferrer" aria-label="booopçš„å°ç«™"><!--[--><!--]--> booopçš„å°ç«™ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.hsuyeung.com/" target="_blank" rel="noopener noreferrer" aria-label="HsuYeungçš„åšå®¢"><!--[--><!--]--> HsuYeungçš„åšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://nolanblog.top/" target="_blank" rel="noopener noreferrer" aria-label="é˜¿è±ªåšå®¢"><!--[--><!--]--> é˜¿è±ªåšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="è¯­é›€"><!--[--><!--]--> è¯­é›€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="é‚®ç®±lumang7520@126.com"><!--[--><!--]--> é‚®ç®±lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾">å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾ <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾"><span class="title"><span>å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" aria-label="é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—"><!--[--><!--]--> é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://7gugu.com/" target="_blank" rel="noopener noreferrer" aria-label="7gugu&#39;s Blog"><!--[--><!--]--> 7gugu&#39;s Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://blog.starsharbor.com/" target="_blank" rel="noopener noreferrer" aria-label="â–æ˜Ÿæ¸¯â—Starâ˜†"><!--[--><!--]--> â–æ˜Ÿæ¸¯â—Starâ˜† <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://booop.net/" target="_blank" rel="noopener noreferrer" aria-label="booopçš„å°ç«™"><!--[--><!--]--> booopçš„å°ç«™ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.hsuyeung.com/" target="_blank" rel="noopener noreferrer" aria-label="HsuYeungçš„åšå®¢"><!--[--><!--]--> HsuYeungçš„åšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://nolanblog.top/" target="_blank" rel="noopener noreferrer" aria-label="é˜¿è±ªåšå®¢"><!--[--><!--]--> é˜¿è±ªåšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="è¯­é›€"><!--[--><!--]--> è¯­é›€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="é‚®ç®±lumang7520@126.com"><!--[--><!--]--> é‚®ç®±lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">Vue3æ ¸å¿ƒæºç è§£æ</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->å½±å¤§å®ğŸ§<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2024-03-09 08:00:00<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->å‰ç«¯å¼€å‘<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->sourceCode<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><h2 id="å‰ç½®" tabindex="-1"><a class="header-anchor" href="#å‰ç½®" aria-hidden="true">#</a> å‰ç½®</h2><h3 id="å‹æƒ…é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#å‹æƒ…é“¾æ¥" aria-hidden="true">#</a> å‹æƒ…é“¾æ¥</h3><p><a href="https://github.com/immerjs/immer" target="_blank" rel="noopener noreferrer">immerjs-æ‹“å±•<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,ä¸ Vue3 ç±»ä¼¼ï¼Œä½¿ç”¨Proxyå®ç°å¦™ç”¨ã€‚</p><p><a href="https://github.com/vuejs/core/tree/v3.3.4" target="_blank" rel="noopener noreferrer">æºç åœ°å€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,å‚è€ƒ 3.3.4 ç‰ˆæœ¬ã€‚</p><h3 id="monorepo" tabindex="-1"><a class="header-anchor" href="#monorepo" aria-hidden="true">#</a> monorepo</h3><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">INFO</p><p>æ¯”å¦‚å…¬å¸æœ‰å¾ˆå¤šé¡¹ç›®ï¼Œä»–ä»¬çš„ä¾èµ–æ˜¯ä¸åŒçš„å†…éƒ¨åŒ…ï¼Œmonorepo å°±æ˜¯ç”¨å•ä¸ª gitä»“åº“ å‚¨å­˜å¤šä¸ªé¡¹ç›®ã€‚Vue3 é‡‡ç”¨ monorepo é¡¹ç›®ç®¡ç† packageã€‚</p></div><p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-03-19_16-32-10.jpg" alt=""></p><h3 id="åˆ†ææµç¨‹" tabindex="-1"><a class="header-anchor" href="#åˆ†ææµç¨‹" aria-hidden="true">#</a> åˆ†ææµç¨‹</h3><ol><li>.vue æ–‡ä»¶ç¼–è¯‘ =&gt; compiler-sfc</li><li>åº”ç”¨åˆå§‹åŒ– =&gt; runtime-core</li><li>æŒ‚è½½ =&gt; runtime-core</li><li>æ•°æ®ä¾¦å¬å¤„ç† =&gt; reactive</li><li>è§¦å‘æ•°æ®æ›´æ–° =&gt; runtime-core</li><li>æ•°æ®æ›´æ–°åŒæ­¥åˆ°è§†å›¾ =&gt; runtime-core + runtime-dom</li><li>å¸è½½</li></ol><h3 id="æ¨¡æ‹Ÿ-vue3-ä¸­ç»„ä»¶çš„çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ‹Ÿ-vue3-ä¸­ç»„ä»¶çš„çŠ¶æ€" aria-hidden="true">#</a> æ¨¡æ‹Ÿ Vue3 ä¸­ç»„ä»¶çš„çŠ¶æ€</h3><ul><li>å…ˆç”¨æ¯”è¾ƒç¬¨çš„æ–¹æ³•å®ç°</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span> <span class="token punctuation">}</span>
<span class="token comment">//å°†è¿™ä¸ªçŠ¶æ€å˜æˆå“åº”å¼,Vue2ä¸­æ˜¯é€šè¿‡ Object.definePropertyï¼ŒVue3æ˜¯Proxy</span>
<span class="token keyword">const</span> reactiveData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>property<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//updateViewç­‰ä»·äº Vue çš„ new Vue({data:{count:0}}).$mount(&#39;#app&#39;)</span>
    <span class="token comment">//è¿™æ˜¯æ¯”è¾ƒç¬¨çš„æ–¹æ³•ï¼Œå› ä¸ºåœ¨å±æ€§ä¸­æ“ä½œï¼ŒVueæºç ç”¨æ”¶é›†ä¾èµ–ä»£æ›¿äº†è¿™ä¸€æ­¥ğŸš©</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>property<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//æ›´æ–°è§†å›¾</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> reactiveData<span class="token punctuation">.</span>count
<span class="token punctuation">}</span>
<span class="token comment">//ä½¿ç”¨</span>
<span class="token keyword">const</span> btnDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#btn&quot;</span><span class="token punctuation">)</span>
btnDom<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  reactiveData<span class="token punctuation">.</span>count <span class="token operator">++</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æºç ä¸­ä¸å¯èƒ½åœ¨å±æ€§ä¸­å†™updateViewè¿™ä¸€æ­¥ï¼Œç”¨<code>æ”¶é›†ä¾èµ–</code>ä»£æ›¿ã€‚å…ˆæ”¶é›†ï¼Œå†æ‰¾åˆ°å¯¹åº”æ—¶æœºè§¦å‘ï¼Œä»¥æ­¤ä¿è¯æ•°æ®æ›´æ–°çš„ä¼˜å…ˆçº§å’Œé¢‘æ¬¡ã€‚æ¯”å¦‚ï¼šé¡µé¢ä¸­åŒä¸€ä¸ªæŒ‰é’®è¿ç»­ç‚¹å‡»å¤šæ¬¡ï¼Œéœ€è¦æ”¶é›†æ­¤è¡Œä¸ºåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œã€‚</li></ul><h2 id="vue3-æºç çš„å®Œæ•´å‘¨æœŸ-å‡ å¤§é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#vue3-æºç çš„å®Œæ•´å‘¨æœŸ-å‡ å¤§é˜¶æ®µ" aria-hidden="true">#</a> Vue3 æºç çš„å®Œæ•´å‘¨æœŸï¼ˆå‡ å¤§é˜¶æ®µï¼‰</h2><ol><li><p>sfcç¼–è¯‘ï¼ˆVue3 çš„ç¼–è¯‘æ˜¯å…¨æ–°çš„åŸºäºçŠ¶æ€æœºï¼ˆ<a href="https://leetcode.cn/problems/nGK0Fy/solutions/" target="_blank" rel="noopener noreferrer">çŠ¶æ€æœºç®—æ³•é¢˜<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰çš„å®ç°æ–¹å¼ï¼ŒVue2æ˜¯æ­£åˆ™åŒ¹é…ï¼‰</p></li><li><p>å“ç³»ç»Ÿçš„åˆå§‹åŒ–ï¼ˆruntime-core/src/componentï¼‰</p></li><li><p>ä¾èµ–æ”¶é›†ï¼ˆreactivity/src/collectionHandlers.tsï¼‰</p><ul><li>ä¸€æ—¦å“åº”å¼ä¸­æŸä¸ªå±æ€§è¢«è®¿é—®ï¼Œå°±ä¼šè°ƒç”¨ track.ï¼ˆtrackæ˜¯æ ‡è®°æ”¶é›†ä¾èµ–ï¼‰</li><li>å…·ä½“æµç¨‹ï¼šproxy ä»£ç†ï¼Œåœ¨ get æ–¹æ³•ä¸­ï¼Œå†³å®šè¿½è¸ªç­–ç•¥ï¼Œç„¶åé€šè¿‡å®šä¹‰çš„ track è¿›è¡Œå±æ€§è¿½è¸ªï¼Œåœ¨ä¾èµ– map ä¸­è¿½åŠ å¯¹åº”çš„ä¾èµ–è¿½è¸ªã€‚</li><li>é¢è¯•ï¼šä¾èµ–ä¸­çš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token comment">// reactivity/src/dep.tsï¼Œå¯¹ä¾èµ–è¿›è¡Œå»é‡å¤„ç†</span>
  <span class="token keyword">type</span> <span class="token class-name">Dep</span> <span class="token operator">=</span> set<span class="token operator">&lt;</span>Reactive<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token operator">&lt;</span>TrackedMarkers<span class="token operator">&gt;</span>
  <span class="token comment">// reactivity/src/effec.ts:</span>
  <span class="token keyword">type</span> <span class="token class-name">KeyToDepMap</span> <span class="token operator">=</span> Map<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> Dep<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> targetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> KeyToDepMap<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token comment">/*ğŸš©é¦–å…ˆï¼Œæ¯ä¸ªtargetéƒ½æœ‰trackMap,é€šè¿‡WeakMapï¼ˆå¼±å¼•ç”¨map,ä¸€èˆ¬åœ¨å­˜å‚¨å¯¹è±¡ä½œä¸ºkeyæ—¶ä½¿ç”¨ï¼Œ
  ä¸åƒåœ¾å›æ”¶å’Œæ–°èƒ½å¤„ç†å…³è”å¤§ï¼Œé—®é¢˜weakMapä»€ä¹ˆæ—¶å€™è¢«æ¸…é™¤ï¼‰çš„å‚æ•°targetå’Œä¾èµ–map newå‡ºæ¥çš„ï¼›
  KeyToDepMapï¼ˆä¾èµ–mapï¼‰
  */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å“åº”å¼å±æ€§æ›´æ–°</p></li><li><p>é‡æ–°æ¸²æŸ“ç»„ä»¶</p></li><li><p>æ›´æ–°å®Œæ¯•</p></li></ol><h2 id="vue3-diffåŸç†" tabindex="-1"><a class="header-anchor" href="#vue3-diffåŸç†" aria-hidden="true">#</a> Vue3 DiffåŸç†</h2><p>å¯å¯¹æ¯”<a href="/blogs/category1/2024/0308.html#vue2-diff%E5%8E%9F%E7%90%86" class="">ã€ŠVue2 DiffåŸç†ã€‹</a>å­¦ä¹ ã€‚</p><p>Vue2 Diffç®—æ³•æœ‰ä¸¤ä¸ªç†å¿µéœ€å…³æ³¨ã€‚ä¸€æ˜¯ç›¸åŒçš„å‰ç½®å’Œåç½®å…ƒç´ çš„é¢„å¤„ç†ï¼ŒäºŒæ˜¯æœ€é•¿é€’å¢å­åºåˆ—ã€‚</p><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">æœ€é•¿é€’å¢å­åºåˆ—</p><p>å¿«é€Ÿ diff ç®—æ³•çš„æ ¸å¿ƒï¼Œå¯¹åº”<a href="https://leetcode.cn/problems/longest-increasing-subsequence/description/" target="_blank" rel="noopener noreferrer">LeetCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p>å¦‚ç°æœ‰æ•°ç»„[4,6,7],</p><p>é€’å¢å­åºåˆ—æœ‰ï¼š[4,6],[4,7],[4,6,7],[6,7],[7]</p><p>æœ€é•¿çš„é€’å¢å­åºåˆ—æ˜¯[4,6,7]</p></div><h3 id="_1-å‰ç½®ä¸åç½®çš„é¢„å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_1-å‰ç½®ä¸åç½®çš„é¢„å¤„ç†" aria-hidden="true">#</a> 1.å‰ç½®ä¸åç½®çš„é¢„å¤„ç†</h3><p>ğŸ”´å…ˆçœ‹å¦‚ä¸‹æ–‡å­— ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>hello ying
hey ying
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ”´è¿™ä¸¤æ®µæ–‡å­—æ˜¯æœ‰ä¸€éƒ¨åˆ†æ˜¯ç›¸åŒçš„ï¼Œè¿™äº›æ–‡å­—æ˜¯ä¸éœ€è¦ä¿®æ”¹ä¹Ÿä¸éœ€è¦ç§»åŠ¨çš„ï¼ŒçœŸæ­£éœ€è¦è¿›è¡Œä¿®æ”¹ä¸­é—´çš„å‡ ä¸ªå­—æ¯ï¼Œæ‰€ä»¥diffå°±å˜æˆä»¥ä¸‹éƒ¨åˆ†:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>text1:llo
text2:y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ”´å°†ä»¥ä¸Šæ¢æˆ<code>vnode</code>: då°±æ˜¯ä¸åŒçš„åœ°æ–¹ï¼Œè¢«ç»¿æ¡†å›´ä½çš„èŠ‚ç‚¹å°±æ˜¯ä¸éœ€è¦ç§»åŠ¨çš„éƒ¨åˆ†ï¼Œåªéœ€è¦è¡¥ä¸<code>patch</code>å³å¯ã€‚ <img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_15-14-26.jpg"></p><p>ğŸ”´æ­¤éƒ¨åˆ†é€»è¾‘ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    prevEnd <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    nextEnd <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
    j<span class="token operator">++</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  
  prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
  nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
  
  <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
    prevEnd<span class="token operator">--</span>
    nextEnd<span class="token operator">--</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸŸ æ­¤æ—¶ï¼Œéœ€è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼Œä¸€ç§æ˜¯ j&gt;preEndï¼Œä¸€ç§æ˜¯ j&gt;nextEndï¼š <img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_15-18-55.jpg"></p><p>ğŸŸ åœ¨ä¸Šå›¾ä¸­ï¼Œè‹¥ j&gt;preEnd ä¸” j&lt;=nextEndï¼Œåªéœ€è¦æŠŠæ–°åˆ—è¡¨ä¸­çš„ j~nextEnd ä¹‹é—´å‰©ä¸‹çš„èŠ‚ç‚¹æ’å…¥è¿›å»å³å¯ã€‚</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nextpos <span class="token operator">=</span> nextEnd <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      refNode <span class="token operator">=</span> nextpos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length
                <span class="token operator">?</span> <span class="token keyword">null</span>
                <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸŸ¡å½“whileå¾ªç¯æ—¶ï¼ŒæŒ‡é’ˆä»ä¸¤ç«¯å‘å†…é€æ¸é æ‹¢ï¼Œæ‰€ä»¥åº”è¯¥åœ¨å¾ªç¯ä¸­å°±å»åˆ¤æ–­è¾¹ç•Œçš„æƒ…å†µã€‚ä½¿ç”¨ label è¯­æ³•ï¼Œå½“è§¦å‘è¾¹ç•Œæƒ…å†µæ—¶ï¼Œé€€å‡ºå…¨éƒ¨çš„å¾ªç¯ï¼Œç›´æ¥è¿›å…¥åˆ¤æ–­ï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    prevEnd <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    nextEnd <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// labelè¯­æ³•</span>
  outer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      j<span class="token operator">++</span>
      <span class="token comment">// å¾ªç¯ä¸­å¦‚æœè§¦å‘è¾¹ç•Œæƒ…å†µï¼Œç›´æ¥breakï¼Œæ‰§è¡Œouterä¹‹åçš„åˆ¤æ–­</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">||</span> j <span class="token operator">&gt;</span> nextEnd<span class="token punctuation">)</span> <span class="token keyword">break</span> outer
      prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      prevEnd<span class="token operator">--</span>
      nextEnd<span class="token operator">--</span>
      <span class="token comment">// å¾ªç¯ä¸­å¦‚æœè§¦å‘è¾¹ç•Œæƒ…å†µï¼Œç›´æ¥breakï¼Œæ‰§è¡Œouterä¹‹åçš„åˆ¤æ–­</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">||</span> j <span class="token operator">&gt;</span> nextEnd<span class="token punctuation">)</span> <span class="token keyword">break</span> outer
      prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
      nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è¾¹ç•Œæƒ…å†µçš„åˆ¤æ–­</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nextpos <span class="token operator">=</span> nextEnd <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      refNode <span class="token operator">=</span> nextpos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length
                <span class="token operator">?</span> <span class="token keyword">null</span>
                <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨" tabindex="-1"><a class="header-anchor" href="#_2-åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨" aria-hidden="true">#</a> 2.åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨</h3><p>æ¥ä¸‹æ¥ï¼Œæ‰¾åˆ°ç§»åŠ¨çš„ç‚¹ï¼Œè®©ä»–ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p><strong>å½“å‰åç½®é¢„å¤„ç†ç»“æŸåï¼Œè¿›å…¥çœŸæ­£çš„ diff ç¯èŠ‚</strong>ã€‚</p><p>1ï¸âƒ£é¦–å…ˆï¼Œæ ¹æ®æ–°åˆ—è¡¨å‰©ä½™çš„èŠ‚ç‚¹æ•°é‡ï¼Œåˆ›å»ºä¸€ä¸ª source æ•°ç»„ï¼Œå¹¶å°†æ•°ç»„å¡«æ»¡ -1</p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_17-49-37.jpg"><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  outer<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// è¾¹ç•Œæƒ…å†µçš„åˆ¤æ–­</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// æ–°åˆ—è¡¨ä¸­å‰©ä½™çš„èŠ‚ç‚¹é•¿åº¦</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ›å»ºæ•°ç»„ï¼Œå¡«æ»¡-1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¸âƒ£<code>source</code>ç”¨äºåš<strong>æ–°æ—§èŠ‚ç‚¹çš„å¯¹åº”å…³ç³»</strong>ã€‚å°†æ–°èŠ‚ç‚¹åœ¨å°±åˆ—è¡¨çš„ä½ç½®å‚¨å­˜åœ¨æ”¹æ•°ç»„ä¸­ï¼Œæ ¹æ®<code>source</code>è®¡ç®—å‡º å®ƒçš„<strong>æœ€é•¿é€’å¢å­åºåˆ—</strong>ç”¨äº DOM ç§»åŠ¨çš„èŠ‚ç‚¹ã€‚ä¸ºæ­¤ï¼Œå…ˆå»ºç«‹ä¸€ä¸ªå¯¹è±¡å‚¨å­˜å½“å‰æ–°åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹ä¸ index çš„å…³ç³»ï¼Œå†å»å°±åˆ—è¡¨ä¸­æ‰¾ä½ç½®ã€‚</p><pre><code>ğŸ¦tips:è‹¥æ—§èŠ‚ç‚¹åœ¨æ–°åˆ—è¡¨ä¸­æ— ï¼Œç›´æ¥åˆ é™¤ã€‚æ­¤å¤–ï¼Œéœ€è¦ä¸€ä¸ªæ•°é‡è¡¨ç¤ºè®°å½•ä»¥åŠ patch è¿‡çš„èŠ‚ç‚¹ï¼Œè‹¥æ•°é‡ä¸æ–°åˆ—è¡¨å‰©ä½™çš„èŠ‚ç‚¹æ•°é‡ä¸€è‡´ï¼Œå‰©ä¸‹çš„æ—§èŠ‚ç‚¹ç›´æ¥åˆ é™¤ã€‚
</code></pre><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//...</span>
  outer<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è¾¹ç•Œæƒ…å†µçš„åˆ¤æ–­</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// æ–°åˆ—è¡¨ä¸­å‰©ä½™çš„èŠ‚ç‚¹é•¿åº¦</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// åˆ›å»ºæ•°ç»„ï¼Œå¡«æ»¡-1</span>
      nextIndexMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                      <span class="token comment">// æ–°åˆ—è¡¨èŠ‚ç‚¹ä¸indexçš„æ˜ å°„</span>
      patched <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                            <span class="token comment">// å·²æ›´æ–°è¿‡çš„èŠ‚ç‚¹çš„æ•°é‡</span>
      
    <span class="token comment">// ä¿å­˜æ˜ å°„å…³ç³»  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key
      nextIndexMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> 
    
    <span class="token comment">// å»æ—§åˆ—è¡¨æ‰¾ä½ç½®</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> prevStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
              prevKey <span class="token operator">=</span> prevNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        nextIndex <span class="token operator">=</span> nextIndexMap<span class="token punctuation">[</span>prevKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// æ–°åˆ—è¡¨ä¸­æ²¡æœ‰è¯¥èŠ‚ç‚¹ æˆ–è€… å·²ç»æ›´æ–°äº†å…¨éƒ¨çš„æ–°èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤æ—§èŠ‚ç‚¹</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">===</span> undefind <span class="token operator">||</span> patched <span class="token operator">&gt;=</span> nextLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        <span class="token keyword">continue</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹</span>
      <span class="token keyword">let</span> nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ç»™sourceèµ‹å€¼</span>
      source<span class="token punctuation">[</span>nextIndex <span class="token operator">-</span> nextStart<span class="token punctuation">]</span> <span class="token operator">=</span> i
      patched<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¸âƒ£ æ‰¾åˆ°ä½ç½®åï¼Œè§‚å¯Ÿé‡æ–°èµ‹å€¼çš„<code>source</code>,è‹¥æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œåˆå§‹å€¼ -1 ï¼Œä»è€Œåˆ¤æ–­è°æ˜¯å…¨æ–°çš„ï¼Œè°æ˜¯å¯å¤ç”¨çš„ã€‚</p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_18-00-28.jpg"><p>å…¶æ¬¡ï¼Œæƒ³åˆ¤æ–­æ˜¯å¦å¯ç§»åŠ¨ï¼Œè‹¥æ‰¾åˆ°çš„ index ä¸€ç›´é€’å¢ï¼Œè¯´æ˜ä¸éœ€è¦ç§»åŠ¨ä»»ä½•èŠ‚ç‚¹ï¼›é€šè¿‡è®¾ç½®ä¸€ä¸ªå˜é‡æ¥ä¿å­˜æ˜¯å¦éœ€è¦ç§»åŠ¨çš„çŠ¶æ€ï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  outer<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è¾¹ç•Œæƒ…å†µçš„åˆ¤æ–­</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// æ–°åˆ—è¡¨ä¸­å‰©ä½™çš„èŠ‚ç‚¹é•¿åº¦</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// åˆ›å»ºæ•°ç»„ï¼Œå¡«æ»¡-1</span>
      nextIndexMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                      <span class="token comment">// æ–°åˆ—è¡¨èŠ‚ç‚¹ä¸indexçš„æ˜ å°„</span>
      patched <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      move <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                           <span class="token comment">// æ˜¯å¦ç§»åŠ¨</span>
      lastIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                          <span class="token comment">// è®°å½•ä¸Šä¸€æ¬¡çš„ä½ç½®</span>
    <span class="token comment">// ä¿å­˜æ˜ å°„å…³ç³»  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key
      nextIndexMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> 
    <span class="token comment">// å»æ—§åˆ—è¡¨æ‰¾ä½ç½®</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> prevStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
              prevKey <span class="token operator">=</span> prevNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        nextIndex <span class="token operator">=</span> nextIndexMap<span class="token punctuation">[</span>prevKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// æ–°åˆ—è¡¨ä¸­æ²¡æœ‰è¯¥èŠ‚ç‚¹ æˆ–è€… å·²ç»æ›´æ–°äº†å…¨éƒ¨çš„æ–°èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤æ—§èŠ‚ç‚¹</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">===</span> undefind <span class="token operator">||</span> patched <span class="token operator">&gt;=</span> nextLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        <span class="token keyword">continue</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹</span>
      <span class="token keyword">let</span> nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ç»™sourceèµ‹å€¼</span>
      source<span class="token punctuation">[</span>nextIndex <span class="token operator">-</span> nextStart<span class="token punctuation">]</span> <span class="token operator">=</span> i
      patched<span class="token operator">++</span>
      <span class="token comment">// é€’å¢æ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        move <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        lastIndex <span class="token operator">=</span> nextIndex
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// éœ€è¦ç§»åŠ¨</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//ä¸éœ€è¦ç§»åŠ¨</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-domå¦‚ä½•ç§»åŠ¨" tabindex="-1"><a class="header-anchor" href="#_3-domå¦‚ä½•ç§»åŠ¨" aria-hidden="true">#</a> 3.DOMå¦‚ä½•ç§»åŠ¨</h3><p>åˆ¤æ–­å®Œæ˜¯å¦éœ€è¦ç§»åŠ¨åï¼Œéœ€è€ƒè™‘å¦‚ä½•ç§»åŠ¨ã€‚</p><p>1ï¸âƒ£ ä¸€æ—¦éœ€è¦è¿›è¡ŒDOMç§»åŠ¨ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯æ‰¾åˆ°<code>sourceçš„æœ€é•¿é€’å¢å­åºåˆ—</code>ã€‚</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
  <span class="token comment">// éœ€è¦ç§»åŠ¨</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">//ä¸éœ€è¦ç§»åŠ¨</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>source ä¸º[2,3,1,-1],æ­¤æ—¶æœ€é•¿é€’å¢å­åºåˆ—ä¸º[2,3]</p><p>è°ƒç”¨ lis å‡½æ•°æ±‚å‡º source çš„æœ€é•¿é€’å¢å­åºåˆ—ä¸º[0,1]ã€‚è¿™æ˜¯æœ€é•¿é€’å¢å­åºåˆ—ä¸­çš„å„ä¸ªå…ƒç´ åœ¨ sourceä¸­çš„ä½ç½®ç´¢å¼•:</p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_18-46-00.jpg"><p>2ï¸âƒ£ æˆ‘ä»¬æ ¹æ®sourceï¼Œå¯¹æ–°åˆ—è¡¨è¿›è¡Œé‡æ–°ç¼–å·ã€‚ä»åå‘å‰éå† source çš„æ¯ä¸€é¡¹ï¼Œä¼šå‡ºç°ä¸‰ç§æƒ…å†µ:</p><ol><li>å½“å‰çš„å€¼ä¸º-1ï¼Œè¿™è¯´æ˜è¯¥èŠ‚ç‚¹æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œåˆç”±äºæˆ‘ä»¬æ˜¯ä»åå‘å‰éå†ï¼Œæˆ‘ä»¬ç›´æ¥åˆ›å»ºå¥½DOMèŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾å°±å¯ä»¥äº†ï¼›</li><li>å½“å‰çš„ç´¢å¼•ä¸ºæœ€é•¿é€’å¢å­åºåˆ—ä¸­çš„å€¼ï¼Œä¹Ÿå°±æ˜¯i === seq[j]ï¼Œè¿™è¯´è¯´æ˜è¯¥èŠ‚ç‚¹ä¸éœ€è¦ç§»åŠ¨ï¼›</li><li>å½“å‰çš„ç´¢å¼•ä¸æ˜¯æœ€é•¿é€’å¢å­åºåˆ—ä¸­çš„å€¼ï¼Œé‚£ä¹ˆè¯´æ˜è¯¥DOMèŠ‚ç‚¹éœ€è¦ç§»åŠ¨ï¼Œè¿™é‡Œä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ç›´æ¥å°†DOMèŠ‚ç‚¹æ’å…¥åˆ°é˜Ÿå°¾å°±å¯ä»¥äº†ï¼Œå› ä¸ºé˜Ÿå°¾æ˜¯æ’å¥½åºçš„ï¼› <img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-17_18-49-09.jpg"></li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>move<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//éœ€è¦ç§»åŠ¨</span>
    <span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> seq<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// æœ€é•¿å­åºåˆ—çš„æŒ‡é’ˆ</span>
    <span class="token comment">// ä»åå‘å‰éå†</span>
      <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// å¯¹åº”æ–°åˆ—è¡¨çš„index</span>
      nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">// æ‰¾åˆ°vnode</span>
      nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>ï¼Œ    <span class="token comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œç”¨äºç§»åŠ¨DOM</span>
      refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOMèŠ‚ç‚¹</span>
      cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å½“å‰sourceçš„å€¼ï¼Œç”¨æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éœ€è¦ç§»åŠ¨</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ1ï¼Œè¯¥èŠ‚ç‚¹æ˜¯å…¨æ–°èŠ‚ç‚¹</span>
        <span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> seq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ2ï¼Œæ˜¯é€’å¢å­åºåˆ—ï¼Œè¯¥èŠ‚ç‚¹ä¸éœ€è¦ç§»åŠ¨</span>
        <span class="token comment">// è®©jæŒ‡å‘ä¸‹ä¸€ä¸ª</span>
        j<span class="token operator">--</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ3ï¼Œä¸æ˜¯é€’å¢å­åºåˆ—ï¼Œè¯¥èŠ‚ç‚¹éœ€è¦ç§»åŠ¨</span>
        parent<span class="token punctuation">.</span><span class="token function">insetBefore</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//ä¸éœ€è¦ç§»åŠ¨}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¸âƒ£ è¯´å®Œäº†éœ€è¦ç§»åŠ¨çš„æƒ…å†µï¼Œå†è¯´è¯´ä¸éœ€è¦ç§»åŠ¨çš„æƒ…å†µã€‚å¦‚æœä¸éœ€è¦ç§»åŠ¨çš„è¯ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰å…¨æ–°çš„èŠ‚ç‚¹ç»™ä»–æ·»åŠ è¿›å»å°±å¯ä»¥äº†ï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> seq<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// æœ€é•¿å­åºåˆ—çš„æŒ‡é’ˆ</span>
    <span class="token comment">// ä»åå‘å‰éå†</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextLeft <span class="token operator">-</span> <span class="token number">1</span>ï¼› i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// å¯¹åº”æ–°åˆ—è¡¨çš„index</span>
        nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token comment">// æ‰¾åˆ°vnode</span>
        nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>ï¼Œ    <span class="token comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œç”¨äºç§»åŠ¨DOM</span>
        refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOMèŠ‚ç‚¹</span>
        cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å½“å‰sourceçš„å€¼ï¼Œç”¨æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éœ€è¦ç§»åŠ¨</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ1ï¼Œè¯¥èŠ‚ç‚¹æ˜¯å…¨æ–°èŠ‚ç‚¹</span>
        <span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> seq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ2ï¼Œæ˜¯é€’å¢å­åºåˆ—ï¼Œè¯¥èŠ‚ç‚¹ä¸éœ€è¦ç§»åŠ¨</span>
        <span class="token comment">// è®©jæŒ‡å‘ä¸‹ä¸€ä¸ª</span>
        j<span class="token operator">--</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ3ï¼Œä¸æ˜¯é€’å¢å­åºåˆ—ï¼Œè¯¥èŠ‚ç‚¹éœ€è¦ç§»åŠ¨</span>
        parent<span class="token punctuation">.</span><span class="token function">insetBefore</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//ä¸éœ€è¦ç§»åŠ¨</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextLeft <span class="token operator">-</span> <span class="token number">1</span>ï¼› i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å½“å‰sourceçš„å€¼ï¼Œç”¨æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éœ€è¦ç§»åŠ¨</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// å¯¹åº”æ–°åˆ—è¡¨çš„index</span>
          nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token comment">// æ‰¾åˆ°vnode</span>
          nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>ï¼Œ    <span class="token comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œç”¨äºç§»åŠ¨DOM</span>
          refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOMèŠ‚ç‚¹</span>
          <span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¯‘å™¨" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘å™¨" aria-hidden="true">#</a> ç¼–è¯‘å™¨</h2><p>çŠ¶æ€æœºçš„æ–¹å¼å¤„ç†ï¼Œå¯¹ç¼–å†™ç¼–è¯‘å™¨æœ‰å¸®åŠ©ã€‚</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/vuepress-reco/vuepress-theme-reco-next/edit/main/example/blogs/category1/2024/0309.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><div class="meta-item last-updated"><a class="icon-container left meta-item-label" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.795 21H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><circle cx="18" cy="18" r="4"></circle><path d="M15 3v4"></path><path d="M7 3v4"></path><path d="M3 11h16"></path><path d="M18 16.496V18l1 1"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Last Updated 2024-04-17 19:02:56<!--]--></span></a></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0309.html#å‰ç½®" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="å‰ç½®"><!--[--><!--]--> å‰ç½® <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#å‹æƒ…é“¾æ¥" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="å‹æƒ…é“¾æ¥"><!--[--><!--]--> å‹æƒ…é“¾æ¥ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#monorepo" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="monorepo"><!--[--><!--]--> monorepo <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#åˆ†ææµç¨‹" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="åˆ†ææµç¨‹"><!--[--><!--]--> åˆ†ææµç¨‹ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#æ¨¡æ‹Ÿ-vue3-ä¸­ç»„ä»¶çš„çŠ¶æ€" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="æ¨¡æ‹Ÿ Vue3 ä¸­ç»„ä»¶çš„çŠ¶æ€"><!--[--><!--]--> æ¨¡æ‹Ÿ Vue3 ä¸­ç»„ä»¶çš„çŠ¶æ€ <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0309.html#vue3-æºç çš„å®Œæ•´å‘¨æœŸ-å‡ å¤§é˜¶æ®µ" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Vue3 æºç çš„å®Œæ•´å‘¨æœŸï¼ˆå‡ å¤§é˜¶æ®µï¼‰"><!--[--><!--]--> Vue3 æºç çš„å®Œæ•´å‘¨æœŸï¼ˆå‡ å¤§é˜¶æ®µï¼‰ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0309.html#vue3-diffåŸç†" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Vue3 DiffåŸç†"><!--[--><!--]--> Vue3 DiffåŸç† <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#_1-å‰ç½®ä¸åç½®çš„é¢„å¤„ç†" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="1.å‰ç½®ä¸åç½®çš„é¢„å¤„ç†"><!--[--><!--]--> 1.å‰ç½®ä¸åç½®çš„é¢„å¤„ç† <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#_2-åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="2.åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨"><!--[--><!--]--> 2.åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0309.html#_3-domå¦‚ä½•ç§»åŠ¨" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="3.DOMå¦‚ä½•ç§»åŠ¨"><!--[--><!--]--> 3.DOMå¦‚ä½•ç§»åŠ¨ <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0309.html#ç¼–è¯‘å™¨" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="ç¼–è¯‘å™¨"><!--[--><!--]--> ç¼–è¯‘å™¨ <!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.f5dbb005.js" defer></script>
  </body>
</html>
