---
title: å‰ç«¯ç¼–ç è§„èŒƒ
date: 2024/04/18
tags:
  - å·¥ç¨‹åŒ–
categories:
  - æ€»ç»“
---

:::info

å‰ç«¯ç¼–ç è§„èŒƒçš„æ ¸å¿ƒæ¦‚å¿µï¼šlint å·¥å…·ã€Node CLI

:::

## ä¸€ã€ç¼–ç è§„èŒƒå®˜æ–¹æ–‡æ¡£

[ã€Šå‚è€ƒæ€»ç»“èµ„æ–™ã€‹](https://encode-studio-fe.github.io/fe-spec/)

### 1.Linter ä¿®å¤å·¥å…·

> Linter è‹±è¯‘ä¸ºè¡£æœä¸Šå¤šå‡ºæ¥çš„å°çƒã€ç»’æ¯›ç­‰ï¼ŒåæŒ‡ç²˜æ¯›å™¨ï¼ˆå…»çŒ«ğŸ±çš„äººéƒ½çŸ¥é“è¿™ä¸œè¥¿ï¼‰ã€‚æ—©åœ¨1978å¹´ï¼ŒStephen C.Johnson åœ¨ debug è‡ªå·±çš„ C è¯­è¨€æ—¶çš„çµæ„Ÿï¼šåšä¸€ä¸ªå·¥å…·æ¥**æç¤ºè‡ªå·±çš„ä»£ç å†™çš„å“ªé‡Œæœ‰é—®é¢˜**ï¼Œåƒã€ç²˜æ¯›å™¨ã€‘ä¸€æ ·ï¼ŒæŠŠå¤šå‡ºæ¥çš„ã€æ¯›çƒã€‘å»æ‰ã€‚

[ESLint](https://zh-hans.eslint.org/docs/latest/),
[commitlint](https://commitlint.js.org/#/),
[stylelint](https://stylelint.io/),
[markdownlint](https://github.com/DavidAnson/markdownlint),
[prettierlint](https://prettier.io/)

### 2.é™æ€èµ„æºç«™ç‚¹

[vuepress](https://vuepress.vuejs.org/zh/)ï¼Œè¿™ä¸ªä¸€èˆ¬æ¥å†™æŠ€æœ¯æ–‡æ¡£ï¼Œæˆ‘çš„ä¸ªäººåšå®¢å°±æ˜¯åŸºäº vuepress æ­å»ºé™æ€èµ„æºç«™ç‚¹ï¼Œä½¿ç”¨ github actions è‡ªåŠ¨å‘å¸ƒã€‚

### 3.node åº“ç›¸å…³

[inquirer](https://github.com/SBoudrias/Inquirer.js/blob/main/packages/inquirer/README.md)
[commander](https://github.com/tj/commander.js)

### 4.å¤šåŒ…ç®¡ç†å·¥å…·

[lerna](https://lerna.js.org/)

### 5.åŒ…ç®¡ç†å·¥å…·

[pnpm](https://pnpm.io/)

### 6.ä»£ç æ¨¡æ¿ç›¸å…³

[ejs](https://ejs.bootcss.com/)

## äºŒã€æŠ€æœ¯é€‰å‹

1. å¤šåŒ…ï¼šmonorepo lerna
2. åŒ…ç®¡ç†å·¥å…·ï¼špnpm
3. lintï¼šmarkdownlintã€commitlintã€stylelintã€eslintã€prettier
4. CLI
5. æµ‹è¯•ï¼šjest mocha

## ä¸‰ã€æ­å»ºæ€è·¯

### 1.æ­å»ºé¡¹ç›®åŸºæœ¬æ¡†æ¶

1. åˆå§‹åŒ–é¡¹ç›®ï¼š`lerna`+`pnpm`çš„å¤šåŒ…æ„å»ºï¼›
2. æ¢³ç†`html`è§„èŒƒã€`git`è§„èŒƒã€`markdown`è§„èŒƒã€`CHANGELOG`è§„èŒƒï¼›
3. åˆ›å»º`commitlint-test`ã€`markdownlint-test`,ä½¿ç”¨`npm scripts`å‘å¸ƒ`npm`åŒ…ï¼›ã€[æˆ‘çš„npmä¸»é¡µ](https://www.npmjs.com/~basilosauridae)ã€‘
4. ä½¿ç”¨`vuepress`æ­å»ºé™æ€èµ„æºç«™ç‚¹ï¼Œåˆ›å»º`markdown`åŠ`commitlint`è§„èŒƒæ–‡æ¡£;
5. æ”¯æŒ`CHANGELOG`è‡ªåŠ¨åŒ–æ›´æ–°ï¼›
6. ä½¿ç”¨`git action`å‘å¸ƒé™æ€èµ„æºç«™ç‚¹ã€‚

## 2ã€å®Œå–„ lint è§„åˆ™

>eslint å®šåˆ¶åŒ–èƒ½åŠ›

1. æä¾› CSSã€Javascriptã€TypeScriptã€Node ç¼–ç è§„èŒƒï¼›
2. åˆ›å»º `stylelint-test`ï¼Œæ”¯æŒæµ‹è¯•ç”¨ä¾‹ï¼›
   :::warning

    sassã€lessåœ¨2012å¹´ä½œä¸ºé¢„å¤„ç†å™¨éå¸¸å…ˆè¿›ï¼Œ2024å¹´å»ºè®®ä½¿ç”¨[postcss](https://postcss.docschina.org/)ï¼Œå‚è€ƒ[githubæ–‡æ¡£](https://github.com/postcss/postcss)ç»“åˆæ„å»ºå·¥å…·é…ç½®å’Œlintå®šåˆ¶åŒ–ã€‚postcsså›å½’åˆ°æ ·å¼çš„è§„èŒƒåŒ–ï¼Œå³å¦‚ä½•å°†cssæ¤å…¥åˆ°jsä»£ç ä¸­ã€‚

   :::
3. åˆ›å»º`eslint-test`ï¼Œæ”¯æŒä¸åŒç»´åº¦ï¼ˆjsã€tsã€reactã€vueï¼‰ä¸‹çš„ eslint å®šåˆ¶ï¼›
4. æ”¯æŒ`prettier`ï¼Œä¸ºä»€ä¹ˆè¦åšæ­¤

## 3ã€æ­å»º Node è„šæ‰‹æ¶

> eslint pluginã€CLI Node Api
1. ç¼–ç ä¸€å¥—å®šåˆ¶çš„ eslint æ’ä»¶ï¼›
2. ç¼–å†™ä¸€å¥—å®Œæ•´çš„ CLIï¼Œæ”¯æŒä¸€ä»¶æ¥å…¥ï¼›
3. æ”¯æŒè‡ªåŠ¨åˆ›å»º .eslintrc.jsã€.eslintignoreã€.stylelintrc.jsã€.stylelintignoreã€commitlint.config.jsã€.markdownlint.jsonã€.markdownlintignoreã€.prettierrc.jsã€.editorconfig ç­‰ï¼›

## 4ã€å®ç°ä¸€é”®æ‰«æã€ä¸€é”®ä¿®å¤

<!-- > husky ä»£ç æ‰«æè§„èŒƒã€fixã€å®Œæ•´çš„æµç¨‹æ¢³ç†ã€å¦‚ä½•ä½“ç°é¡¹ç›®ä¼˜åŠ¿ -->

é€šè¿‡æä¾› CLI çš„äº§ç‰©ï¼Œå®ç°**ä¸€é”®æ¥å…¥**ï¼ˆé€šè¿‡ä¸€é”®æ–¹å¼å®‰è£…CLI,ç”¨æœ€å°çš„æˆæœ¬è½åœ°ï¼‰ã€**ä¸€é”®æ‰«æ**ï¼ˆç»“åˆlintå·¥å…·ï¼Œæ‰«æé—®é¢˜ï¼‰ã€**ä¸€é”®ä¿®å¤**ï¼ˆå½“é‡åˆ°ä¸ç¬¦åˆlintè§„èŒƒé¡¹ç›®æ—¶å¦‚ä½•fixï¼‰ã€**ä¸€é”®å‡çº§**ï¼ˆnpmåŒ…å‡çº§ï¼‰çš„åŠŸèƒ½ã€‚



