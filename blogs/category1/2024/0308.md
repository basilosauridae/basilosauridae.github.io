---
title: Vue2æ ¸å¿ƒæºç è§£æ
date: 2024-03-08
tags:
  - sourceCode
categories:
  - å‰ç«¯å¼€å‘
---

## Flow

### æ˜¯ä»€ä¹ˆ

ä¸€ç§é™æ€æ£€æŸ¥å·¥å…·ï¼Œå·¥ä½œä¸­ä¸ä¼šç”¨åˆ°ï¼Œç±»ä¼¼äºTypescriptã€‚[Flowå®˜ç½‘](https://flow.org/en/docs/getting-started/)

### ä½¿ç”¨flowçš„åŸå› 

- Jsæ˜¯ä¸€ä¸ªåŠ¨æ€ç±»å‹è¯­è¨€ï¼Œçµæ´»çš„èƒŒåå¸¦æ¥çš„æ˜¯éš¾ä»¥å¯»æ‰¾çš„bug;
- ç±»å‹æ£€æŸ¥æ—¶å½“å‰åŠ¨æ€ç±»å‹è¯­è¨€å‘å±•çš„è¶‹åŠ¿ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ç¼–è¯‘æ—¶å‘ç°ç”±äºç±»å‹é”™è¯¯å¼•èµ·çš„bug;
- é¡¹ç›®è¶Šå¤æ‚è¶Šéœ€è¦é€šè¿‡å·¥å…·çš„æ‰‹æ®µæ¥ä¿è¯é¡¹ç›®çš„ç»´æŠ¤å’Œä»£ç çš„å¯è¯»æ€§ã€‚


:::info
å¯ä»¥çœ‹ä¸€ä¸‹å°¤é›¨æºªæœ¬äººçš„è§£é‡Šï¼š[çŸ¥ä¹](https://www.zhihu.com/question/46397274/answer/101193678):

1. Vue 2.0 æœ¬èº«åœ¨åˆæœŸçš„å¿«é€Ÿè¿­ä»£é˜¶æ®µæ˜¯ç”¨ ES2015 å†™çš„ï¼Œæ•´ä¸ªæ„å»ºå·¥å…·é“¾ä¹Ÿæ²¿ç”¨äº† Vue 1.x çš„åŸºäº ES ç”Ÿæ€çš„ä¸€å¥—ï¼ˆBabel, ESLint, Webpack, Rollup...)
2. Babelå’ŒESlintéƒ½æœ‰å¯¹åº”çš„Flowæ’ä»¶ä»¥åŠæ”¯æŒçš„è¯­æ³•ã€‚

:::

### Flow åœ¨ Vue.js æºç ä¸­çš„åº”ç”¨

åœ¨Vue2çš„æ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œ[link](https://github.com/vuejs/vue/blob/2.6/.flowconfig),ä¸»ç›®å½•ä¸‹æœ‰` .flowconfig `æ–‡ä»¶ï¼Œç”¨äºé…ç½®Flow.

Flowçš„`libdef`å¯ä»¥ç”¨äºè¯†åˆ«ç¬¬ä¸‰åº“æˆ–è‡ªå®šä¹‰ç±»å‹ã€‚

## æºç å­¦ä¹ æ€è·¯

1. äº†è§£æ ¸å¿ƒæµç¨‹APIï¼ŒæŠŠåº“çš„APIç”¨ç†Ÿï¼ˆé¡ºè—¤æ‘¸ç“œï¼‰
2. æ•´ä½“æ‰§è¡Œæµç¨‹ï¼Œï¼ˆlodashã€underscoreç­‰å·¥å…·åº“é™¤å¤–,æ— å¤ªå¤šå­¦ä¹ å‚è€ƒæ„ä¹‰ï¼‰ï¼Œå¦‚ï¼š
    - webpack/vite/gulpï¼šä»å¯åŠ¨åˆ°æ‰“åŒ…è¾“å‡ºçš„æµç¨‹
    - Vue2ï¼šVue2ä»ç¼–è¯‘ => åˆå§‹åŒ– => è§¦å‘æ›´æ–° => å¸è½½çš„æµç¨‹
3. çœ‹package.jsonï¼Œçœ‹ä¾èµ–å’Œå‘½ä»¤

## Vueçš„ç›®å½•ç»“æ„è®¾è®¡
[æºç ](https://github.com/vuejs/vue)`srcä¸‹`:

| æ–‡ä»¶å¤¹ | å†…å®¹ |
|-------|-------|
| compiler | ç¼–è¯‘ç›¸å…³ |
| core | æ ¸å¿ƒä»£ç  | 
| platforms | è§£å†³è·¨å¹³å° | 
| server | æœåŠ¡ç«¯æ¸²æŸ“ | 
| sfc | .vueæ–‡ä»¶è§£æ | 
| shared | å…±äº«ä»£ç  | 

### compiler

> è¡¥å……çŸ¥è¯†ï¼šç¼–è¯‘å¯ä»¥åœ¨æ„å»ºæ—¶ï¼ˆå€ŸåŠ©webpackã€vue-loaderç­‰è¾…åŠ©å·¥å…·æ’ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨åŒ…å«æ„å»ºåŠŸèƒ½çš„Vue.jsã€‚ç¼–è¯‘æ—¶ä¸€é¡¹è€—æ€§èƒ½çš„å·¥ä½œï¼Œæ‰€ä»¥æ¨èå‰è€…â€”â€”â€”â€”ç¦»çº¿ç¼–è¯‘ã€‚ï¼ˆæœ¬ç¯‡æ–‡ç« ä¸­æœç´¢ğŸ‘ºï¼‰

Vue.jsæ‰€æœ‰ç¼–è¯‘éƒ¨åˆ†çš„ä»£ç ã€‚åŒ…æ‹¬å°†æ¨¡æ¿è§£ææˆastè¯­æ³•æ ‘ï¼Œastè¯­æ³•æ ‘ä¼˜åŒ–ï¼Œä»£ç ç”ŸæˆåŠŸèƒ½ï¼šğŸ°

- `vue2`ä¸­æ˜¯é€šè¿‡æ­£åˆ™æ–¹å¼å®ç°ï¼Œ`vue3`æ›´åŠ ä¸¥è°¨ï¼šé€šè¿‡çŠ¶æ€æœºåˆ¶æ¥åštokensçš„è§£æï¼Œè¯æ³•è¯­æ³•åˆ†æï¼ˆä¹ŸåŒ…æ‹¬éƒ¨åˆ†æ­£åˆ™ï¼‰ï¼›
- compiler/parserè½¬æ¢ => compiler/directive ASTè§£æ => compiler/codergen ç”Ÿæˆï¼›
- å®Œæ•´çš„ç¼–è¯‘è¿‡ç¨‹ï¼šå°†ä»£ç è½¬æˆ => AST => ç›®æ ‡AST => ç”Ÿæˆä»£ç 


### core 

<xicons icon="Star" /> æ ¸å¿ƒä»£ç ï¼ŒVue.jsçš„çµé­‚ã€‚

- core/observer å“åº”å¼éƒ¨åˆ†ï¼Œdep.tsä¾¦å¬ä¾èµ–å†…å®¹ï¼Œscheduler.tsè°ƒåº¦
- core/instance ç”Ÿå‘½å‘¨æœŸã€proxyã€åˆå§‹åŒ–æŒ‚è½½ç­‰
- core/vdom è™šæ‹Ÿdomç­‰

### platforms

Vue.jsæ˜¯è·¨å¹³å°çš„ç±»`MVVM`æ¡†æ¶ï¼Œå¯ä»¥è·‘åœ¨ web ä¸Šï¼Œä¹Ÿå¯ä»¥é…åˆ weex è·‘åœ¨ native å®¢æˆ·ç«¯ä¸Šã€‚å¤šç«¯é€‚é…å¤„ç†ï¼Œéé‡ç‚¹ã€‚

![](https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-03-15_18-49-48.jpg)

### server

- Vue2 æ”¯æŒäº†æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè¿™ä¸ªç›®å½•ä¸‹æ˜¯æ‰€æœ‰æœåŠ¡ç«¯æ¸²æŸ“çš„é€»è¾‘ï¼›
- è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ä»£ç  æ˜¯è·‘åœ¨æœåŠ¡ç«¯çš„ `Node.js`ï¼Œä¸æ˜¯è·‘åœ¨æµè§ˆå™¨ç«¯çš„vue.js;
- æœåŠ¡ç«¯æ¸²æŸ“çš„ä¸»è¦å·¥ä½œæ˜¯ å°†ç»„ä»¶æ¸²æŸ“ä¸º æœåŠ¡ç«¯çš„HTMLå­—ç¬¦ä¸²ï¼Œå°†ä»–ä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€å`é™æ€æ ‡è®°`æ··åˆä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚

### sfc

æŠŠ`.vue`æ–‡ä»¶å†…å®¹è§£ææˆä¸€ä¸ª JS å¯¹è±¡ã€‚

### shared

å®šä¹‰ä¸€äº›å·¥å…·æ–¹æ³•ï¼Œè¢«æµè§ˆå™¨å’ŒæœåŠ¡ç«¯çš„Vue.jså…±äº«ã€‚å¦‚ç”Ÿå‘½å‘¨æœŸhooksç­‰ã€‚

## Vueæºç æ„å»º

### æ„å»ºè„šæœ¬å’Œè¿‡ç¨‹

Vue.js æºç æ˜¯åŸºäº `Rollup` æ„å»ºçš„ï¼Œå®ƒçš„æ„å»ºç›¸å…³é…ç½®éƒ½åœ¨ scripts ç›®å½•ä¸‹ã€‚

- å½“åœ¨å‘½ä»¤è¡Œè¿è¡Œ `npm run build` çš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±ä¼šæ‰§è¡Œ node scripts/build.js

```js
//package.json
"build": "node scripts/build.js",
"build:ssr": "npm run build -- web-runtime-cjs,web-server-renderer",
"build:weex": "npm run build -- weex",
```

- `scripts/build.js`ï¼šå…ˆä»é…ç½®æ–‡ä»¶è¯»å–é…ç½®ï¼Œå†é€šè¿‡å‘½ä»¤è¡Œå‚æ•°å¯¹æ„å»ºé…ç½®åšè¿‡æ»¤ï¼Œè¿™æ ·å°±å¯ä»¥æ„å»ºå‡ºä¸åŒç”¨é€”çš„ Vue.js äº†
```js
let builds = require('./config').getAllBuilds()

// filter builds via command line arg
if (process.argv[2]) {
  const filters = process.argv[2].split(',')
  builds = builds.filter(b => {
    return filters.some(f => b.output.file.indexOf(f) > -1 || b._name.indexOf(f) > -1)
  })
} else {
  // filter out weex builds by default
  builds = builds.filter(b => {
    return b.output.file.indexOf('weex') === -1
  })
}

build(builds)
```
- æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œåœ¨ `scripts/config.js` ä¸­ï¼š
```js
const builds = {
  // Runtime only (CommonJS). Used by bundlers e.g. Webpack & Browserify
  'web-runtime-cjs': {
    entry: resolve('web/entry-runtime.js'),
    dest: resolve('dist/vue.runtime.common.js'),
    format: 'cjs',
    banner
  },
  // Runtime+compiler CommonJS build (CommonJS)
  'web-full-cjs': {
    entry: resolve('web/entry-runtime-with-compiler.js'),
    dest: resolve('dist/vue.common.js'),
    format: 'cjs',
    alias: { he: './entity-decoder' },
    banner
  },
  // Runtime only (ES Modules). Used by bundlers that support ES Modules,
  // e.g. Rollup & Webpack 2
  'web-runtime-esm': {
    entry: resolve('web/entry-runtime.js'),
    dest: resolve('dist/vue.runtime.esm.js'),
    format: 'es',
    banner
  },
  // Runtime+compiler CommonJS build (ES Modules)
  'web-full-esm': {
    entry: resolve('web/entry-runtime-with-compiler.js'),
    dest: resolve('dist/vue.esm.js'),
    format: 'es',
    alias: { he: './entity-decoder' },
    banner
  },
  // runtime-only build (Browser)
  'web-runtime-dev': {
    entry: resolve('web/entry-runtime.js'),
    dest: resolve('dist/vue.runtime.js'),
    format: 'umd',
    env: 'development',
    banner
  },
  // runtime-only production build (Browser)
  'web-runtime-prod': {
    entry: resolve('web/entry-runtime.js'),
    dest: resolve('dist/vue.runtime.min.js'),
    format: 'umd',
    env: 'production',
    banner
  },
  // Runtime+compiler development build (Browser)
  'web-full-dev': {
    entry: resolve('web/entry-runtime-with-compiler.js'),
    dest: resolve('dist/vue.js'),
    format: 'umd',
    env: 'development',
    alias: { he: './entity-decoder' },
    banner
  },
  // Runtime+compiler production build  (Browser)
  'web-full-prod': {
    entry: resolve('web/entry-runtime-with-compiler.js'),
    dest: resolve('dist/vue.min.js'),
    format: 'umd',
    env: 'production',
    alias: { he: './entity-decoder' },
    banner
  },
}
/*è¿™é‡Œåˆ—ä¸¾äº†ä¸€äº› Vue.js æ„å»ºçš„é…ç½®ï¼Œå¯¹äºå•ä¸ªé…ç½®ï¼Œå®ƒæ˜¯éµå¾ª Rollup çš„æ„å»ºè§„åˆ™çš„ã€‚
å…¶ä¸­ entry å±æ€§è¡¨ç¤ºæ„å»ºçš„å…¥å£ JS æ–‡ä»¶åœ°å€ï¼Œdest å±æ€§è¡¨ç¤ºæ„å»ºåçš„ JS æ–‡ä»¶åœ°å€ã€‚
format å±æ€§è¡¨ç¤ºæ„å»ºçš„æ ¼å¼ï¼Œcjs è¡¨ç¤ºæ„å»ºå‡ºæ¥çš„æ–‡ä»¶éµå¾ª CommonJS è§„èŒƒï¼Œ
es è¡¨ç¤ºæ„å»ºå‡ºæ¥çš„æ–‡ä»¶éµå¾ª ES Module è§„èŒƒã€‚ umd è¡¨ç¤ºæ„å»ºå‡ºæ¥çš„æ–‡ä»¶éµå¾ª UMD è§„èŒƒã€‚*/
```
- ç»è¿‡ Rollup çš„æ„å»ºæ‰“åŒ…åï¼Œæœ€ç»ˆä¼šåœ¨ dist ç›®å½•ä¸‹ç”Ÿæˆ dist/vue.runtime.common.dev.jsã€‚

### Runtime Only VS Runtime + Compiler ğŸ‘º

vue-cli å»åˆå§‹åŒ–æˆ‘ä»¬çš„ Vue.js é¡¹ç›®çš„æ—¶å€™ä¼šè¯¢é—®æˆ‘ä»¬ç”¨ `Runtime Only` ç‰ˆæœ¬çš„è¿˜æ˜¯ `Runtime + Compiler` ç‰ˆæœ¬ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å¯¹æ¯”è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚

- Runtime Only: ä½¿ç”¨æ­¤ç‰ˆæœ¬çš„Vue.js,éœ€å€ŸåŠ© webpack çš„ vue-loader å·¥å…·æŠŠ `.vue`æ–‡ä»¶ç¼–è¯‘æˆ JS, å› ä¸ºæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µåšçš„ï¼Œæ‰€ä»¥ä»£ç ä½“ç§¯æ›´è½»ï¼›

- Runtime + Compilerï¼šå¦‚æœæ²¡æœ‰å¯¹ä»£ç åšé¢„ç¼–è¯‘ï¼Œä½†åˆä½¿ç”¨äº† Vue çš„ template å±æ€§å¹¶ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦åœ¨å®¢æˆ·ç«¯ç¼–è¯‘æ¨¡æ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
  ```js
  // éœ€è¦ç¼–è¯‘å™¨çš„ç‰ˆæœ¬
  new Vue({
    template: '<div>{{ hi }}</div>'
  })

  // è¿™ç§æƒ…å†µä¸éœ€è¦
  new Vue({
    render (h) {
      return h('div', this.hi)
    }
  })
  ```
- Vue2.0ä¸­ï¼Œæœ€ç»ˆæ¸²æŸ“éƒ½æ˜¯é€šè¿‡`render`å‡½æ•°ï¼Œè‹¥å†™ template å±æ€§ï¼Œæœ€ç»ˆéœ€ç¼–è¯‘æˆ renderï¼Œé‚£ä¹ˆè¿™ä¸ªç¼–è¯‘è¿‡ç¨‹å‘ç”Ÿè¿è¡Œæ—¶ï¼Œéœ€è¦å¸¦æœ‰ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ã€‚æ‰€ä»¥æ›´æ¨è`Runtime Only`

## æ ¹æ®æ‰§è¡Œè¿‡ç¨‹åˆ†ææºç 

å…±ä¹æ­¥ã€‚

### 1. é¦–å…ˆç¼–å†™çš„æ˜¯`.vue`æ–‡ä»¶

### 2. ç”¨ sfc å°† `.vue` => `JS`

- [AST Explorer](https://astexplorer.net/),æºç å’Œè¿™ä¸ªè¯­æ³•ä¸€è‡´ã€‚
- packages/compiler-sfc/srcä¸­, `compileScriptã€compileTemplateã€compileStyle`æ–¹æ³•è§£æ

### 3. `compiler`ç”¨äºç¼–è¯‘å¤„ç†

å…¨æ–‡æœç´¢ğŸ°

### 4. å¯åŠ¨é¡¹ç›®ï¼Œåˆå§‹åŒ–åº”ç”¨ï¼Œnew Vue()

ï¼ˆä¸‹é¢éœ€è¡¥å……ï¼‰


4. å¯åŠ¨é¡¹ç›®ï¼Œåˆå§‹åŒ–åº”ç”¨ï¼Œnew Vue() 
   - core/index.ts => core/global-api:`initGlobalAPI`:
      - initUse(Vue) - åˆå§‹åŒ–æ’ä»¶æœºåˆ¶ - Vue.use(xxx)
      - initMixin(Vue) - Vue.mixin
      - initExtend(Vue) - ç»§æ‰¿æœºåˆ¶ - Vue.extend
      - initAssetRegisters(Vue) - vue2ä¸­ï¼Œsrc/shared/constens.tså°†èµ„æº(ASSET_TYPES)è§„å®šä¸ºä¸‰ç±»ï¼ˆcomponentã€directiveã€filterï¼‰ï¼Œè¿™é‡Œåˆå§‹åŒ–æ˜¯é’ˆå¯¹è¿™ä¸ª
5. å¤„ç†åˆå§‹åŒ–é€»è¾‘ï¼ŒåŒ…å«ç”Ÿå‘½å‘¨æœŸã€Mixinç­‰å†…å®¹
   - core/instance/index.ts
6. åˆ›å»ºå¯¹åº”çš„`vdom`,æŒ‚è½½
   - core/instance/render.ts æŒ‚è½½ => `creatElement` => core/vdom/create-elemnent.ts - åˆå§‹åŒ–åˆ›å»ºçš„é€»è¾‘
7. ä¸€æ—¦å‘ç”Ÿæ›´æ–°,å³dataæ•°æ®å˜æ›´ï¼Œé€šè¿‡ç›‘å¬è§¦å‘
   - Vue2æºç çœ‹è€çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬å¤§éƒ¨åˆ†æ˜¯Proxyé‡æ„ï¼›çœ‹è¿™[ä¸»è¦é€»è¾‘](https://github.com/vuejs/vue/blob/1.1/src/observer/array.js)
   - [patché€»è¾‘](https://github.com/vuejs/vue/blob/main/src/core/vdom/patch.ts) - diffç®—æ³•å¤„ç†æ—¶ï¼šğŸš©
     ```js
     //ğŸš©é¢è¯•å¸¸é—®ï¼šVueä¸­ :key çš„ä½œç”¨:score/vdom/patch.tsçš„ç¬¬36è¡Œ,å°¤é›¨æºªå®šä¹‰äº†ä¸€ä¸ªsameVnodeæ–¹æ³•ï¼Œ
     //æ ¹èŠ‚ç‚¹åˆç­›ï¼ŒsameVnode å¯¹keyï¼Œtagï¼Œtypeç­‰è¿›è¡Œç®€å•çš„åˆ¤æ–­ï¼Œé€šè¿‡äº†å°±è¿›è¡Œå…·ä½“å·®å¼‚å¯¹æ¯”, ä¸é€šè¿‡å°±æ–°å»ºdomã€‚
     /*ä½œç”¨æ€»ç»“ï¼šVueå“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¤§é‡æºç åšæ€§èƒ½ä¼˜åŒ–çš„äº‹æƒ…ï¼Œå…¶ä¸­å°±åŒ…å«:keyï¼Œåœ¨diffè¿‡ç¨‹ä¸­ï¼Œå§‹ç»ˆä»¥æœ€ä»¥æœ€å°ä»£ä»·ã€
       æœ€å¤§ç¨‹åº¦å»è¿›è¡ŒèŠ‚ç‚¹å¤ç”¨ï¼ˆpatchï¼‰ï¼Œ
       è€Œkeyå°±ä½œä¸ºæˆ‘ä»¬åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å¯ä»¥å¤ç”¨çš„ä¸€å¤§æ ‡å‡†ï¼ˆé™¤äº†åˆ¤æ–­keyç›¸åŒ è¿˜æœ‰å…¶ä»–åˆ¤æ–­å¦‚ğŸ’›ï¼‰ã€‚
     */
     function sameVnode(a, b) {
      return (
        a.key === b.key && //keyå…¨ç­‰ è¿™ä¹Ÿæ˜¯ä¸èƒ½ç”¨indexä½œä¸ºkeyçš„åŸå› ğŸš©
        a.asyncFactory === b.asyncFactory &&
        ((a.tag === b.tag &&//ğŸ’›
          a.isComment === b.isComment &&//ğŸ’›
          isDef(a.data) === isDef(b.data) && //ğŸ’›
          //dataä¿å­˜äº†å…ƒç´ ä¸Šçš„å±æ€§ å¦‚attrs: { class: 'box' }, staticStyle: { color: 'red'}ç­‰
          //isDefä½œç”¨ï¼š åˆ¤æ–­å€¼æ˜¯å¦è¢«å®šä¹‰
          sameInputType(a, b)) || //input typeå±æ€§æ˜¯å¦ç›¸åŒ
          (isTrue(a.isAsyncPlaceholder) && isUndef(b.asyncFactory.error)))
      )
     ```
8. æ”¶é›†ä¾èµ–
9. å¤„ç†æ›´æ–°diff

## Vue2 Diffç®—æ³•

diffçš„ç›®çš„ï¼šå°½å¯èƒ½å‡å°‘ dom å˜æ›´ï¼ˆreflow/repaintï¼‰,æ‰¾åˆ°å¯ä»¥å¤ç”¨çš„èŠ‚ç‚¹

### åŒç«¯diff

åŒç«¯æ¯”è¾ƒå°±æ˜¯æ–°åˆ—è¡¨å’Œæ—§åˆ—è¡¨ä¸¤ä¸ªåˆ—è¡¨çš„å¤´ä¸å°¾äº’ç›¸å¯¹æ¯”ï¼Œåœ¨å¯¹æ¯”çš„è¿‡ç¨‹ä¸­æŒ‡é’ˆä¼šé€æ¸å‘å†…é æ‹¢ï¼Œç›´åˆ°æŸä¸€ä¸ªåˆ—è¡¨çš„èŠ‚ç‚¹å…¨éƒ¨éå†è¿‡ï¼Œå¯¹æ¯”åœæ­¢ã€‚

### ç¼ºç‚¹

Vue2æ˜¯å…¨é‡ Diff (å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå®ƒå°±ä¼šå‘ç”Ÿä¸€ä¸ªDOMæ ‘ï¼Œå¹¶å’Œä¹‹å‰çš„DOMæ ‘æ¯”è¾ƒï¼Œæ‰¾åˆ°ä¸åŒçš„èŠ‚ç‚¹ç„¶åæ›´æ–°)ï¼Œå¦‚æœå±‚çº§å¾ˆé«˜ï¼Œå¾ˆæ¶ˆè€—å†…å­˜ã€‚

