<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>å°ç¨‹åºå¼€å‘ä¸­é‡åˆ°çš„æ³¨æ„ç‚¹ï¼ˆcontinue to updateâ€¦ï¼‰ | Ying's BlogğŸ—</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.4ad97c89.js"><link rel="modulepreload" href="/assets/0915.html.19741220.js"><link rel="modulepreload" href="/assets/0915.html.06402ddb.js"><link rel="prefetch" href="/assets/index.html.bee2986f.js"><link rel="prefetch" href="/assets/books.html.7dfc5faa.js"><link rel="prefetch" href="/assets/introduce.html.d56ef50f.js"><link rel="prefetch" href="/assets/mycat.html.3cb6980d.js"><link rel="prefetch" href="/assets/noun.html.05b012a6.js"><link rel="prefetch" href="/assets/standard.html.f914a9fc.js"><link rel="prefetch" href="/assets/thingy.html.5078f2aa.js"><link rel="prefetch" href="/assets/colorful.html.f53e56d2.js"><link rel="prefetch" href="/assets/magic.html.4afdaa6c.js"><link rel="prefetch" href="/assets/reset.html.c35303fc.js"><link rel="prefetch" href="/assets/shadow.html.c83b6fa3.js"><link rel="prefetch" href="/assets/whirligig.html.86012065.js"><link rel="prefetch" href="/assets/advancedUsage.html.c1c85455.js"><link rel="prefetch" href="/assets/vue2application.html.4067f29c.js"><link rel="prefetch" href="/assets/vue2principle.html.ad6ccbc7.js"><link rel="prefetch" href="/assets/Vue3new.html.8ae620b8.js"><link rel="prefetch" href="/assets/vueRouter.html.f2be6c78.js"><link rel="prefetch" href="/assets/vueState.html.2c4a0b55.js"><link rel="prefetch" href="/assets/0201.html.d3d99c3d.js"><link rel="prefetch" href="/assets/0501.html.59533c9e.js"><link rel="prefetch" href="/assets/0708.html.545fab33.js"><link rel="prefetch" href="/assets/0708.html.87462489.js"><link rel="prefetch" href="/assets/0915.html.264361c0.js"><link rel="prefetch" href="/assets/0708.html.5a31b339.js"><link rel="prefetch" href="/assets/0810.html.54d85a4c.js"><link rel="prefetch" href="/assets/0815.html.d164561f.js"><link rel="prefetch" href="/assets/0910.html.3fddff83.js"><link rel="prefetch" href="/assets/1001.html.4f2f2d32.js"><link rel="prefetch" href="/assets/1112.html.30c6b1f1.js"><link rel="prefetch" href="/assets/0101.html.1196ed22.js"><link rel="prefetch" href="/assets/0106.html.3283102c.js"><link rel="prefetch" href="/assets/0228.html.6e9b9779.js"><link rel="prefetch" href="/assets/0229.html.50861df2.js"><link rel="prefetch" href="/assets/0308.html.559a7f67.js"><link rel="prefetch" href="/assets/0309.html.d8075a59.js"><link rel="prefetch" href="/assets/0324.html.6850bd1b.js"><link rel="prefetch" href="/assets/0417.html.a7409d8f.js"><link rel="prefetch" href="/assets/0418.html.337084f0.js"><link rel="prefetch" href="/assets/0422.html.6ba096c7.js"><link rel="prefetch" href="/assets/0501.html.3e18b2f8.js"><link rel="prefetch" href="/assets/0614.html.ee6c6e70.js"><link rel="prefetch" href="/assets/0224.html.20ffc023.js"><link rel="prefetch" href="/assets/404.html.d341cb57.js"><link rel="prefetch" href="/assets/index.html.8bbd2553.js"><link rel="prefetch" href="/assets/index.html.96fef93f.js"><link rel="prefetch" href="/assets/index.html.e94281b4.js"><link rel="prefetch" href="/assets/index.html.06e94a81.js"><link rel="prefetch" href="/assets/index.html.4ec681e3.js"><link rel="prefetch" href="/assets/index.html.5864ec6d.js"><link rel="prefetch" href="/assets/index.html.583cba6e.js"><link rel="prefetch" href="/assets/index.html.76f5d555.js"><link rel="prefetch" href="/assets/index.html.f5245796.js"><link rel="prefetch" href="/assets/index.html.00324c95.js"><link rel="prefetch" href="/assets/index.html.0a1c4b44.js"><link rel="prefetch" href="/assets/index.html.db5d0cde.js"><link rel="prefetch" href="/assets/index.html.66866bf6.js"><link rel="prefetch" href="/assets/index.html.ca6945dd.js"><link rel="prefetch" href="/assets/index.html.4425e3ac.js"><link rel="prefetch" href="/assets/index.html.ac92a948.js"><link rel="prefetch" href="/assets/index.html.234a4022.js"><link rel="prefetch" href="/assets/index.html.72ac4063.js"><link rel="prefetch" href="/assets/index.html.b57762aa.js"><link rel="prefetch" href="/assets/index.html.08b3a957.js"><link rel="prefetch" href="/assets/index.html.9cbf2d78.js"><link rel="prefetch" href="/assets/index.html.4bc70fa1.js"><link rel="prefetch" href="/assets/index.html.7d530fd6.js"><link rel="prefetch" href="/assets/index.html.b7d025d9.js"><link rel="prefetch" href="/assets/books.html.05d2792f.js"><link rel="prefetch" href="/assets/introduce.html.2276c8bf.js"><link rel="prefetch" href="/assets/mycat.html.9ec3d856.js"><link rel="prefetch" href="/assets/noun.html.c83e249e.js"><link rel="prefetch" href="/assets/standard.html.b4531997.js"><link rel="prefetch" href="/assets/thingy.html.b46926a4.js"><link rel="prefetch" href="/assets/colorful.html.4d49709b.js"><link rel="prefetch" href="/assets/magic.html.74b316ef.js"><link rel="prefetch" href="/assets/reset.html.4639faaa.js"><link rel="prefetch" href="/assets/shadow.html.4a76f1ea.js"><link rel="prefetch" href="/assets/whirligig.html.db9f67ba.js"><link rel="prefetch" href="/assets/advancedUsage.html.0a7d3c73.js"><link rel="prefetch" href="/assets/vue2application.html.be799449.js"><link rel="prefetch" href="/assets/vue2principle.html.e20674f2.js"><link rel="prefetch" href="/assets/Vue3new.html.672210d5.js"><link rel="prefetch" href="/assets/vueRouter.html.34bd02b2.js"><link rel="prefetch" href="/assets/vueState.html.e6abec5a.js"><link rel="prefetch" href="/assets/0201.html.1dfed10e.js"><link rel="prefetch" href="/assets/0501.html.aeac4839.js"><link rel="prefetch" href="/assets/0708.html.319fed14.js"><link rel="prefetch" href="/assets/0708.html.e6f4698f.js"><link rel="prefetch" href="/assets/0915.html.1f798d82.js"><link rel="prefetch" href="/assets/0708.html.715a11bb.js"><link rel="prefetch" href="/assets/0810.html.ffc7e440.js"><link rel="prefetch" href="/assets/0815.html.6956457d.js"><link rel="prefetch" href="/assets/0910.html.0efb519c.js"><link rel="prefetch" href="/assets/1001.html.f6b39c9f.js"><link rel="prefetch" href="/assets/1112.html.4cfcad95.js"><link rel="prefetch" href="/assets/0101.html.7b885dd8.js"><link rel="prefetch" href="/assets/0106.html.55aa1439.js"><link rel="prefetch" href="/assets/0228.html.b6863f6a.js"><link rel="prefetch" href="/assets/0229.html.99517a0d.js"><link rel="prefetch" href="/assets/0308.html.67450b89.js"><link rel="prefetch" href="/assets/0309.html.cb66e7de.js"><link rel="prefetch" href="/assets/0324.html.b3d55593.js"><link rel="prefetch" href="/assets/0417.html.c3bde9e5.js"><link rel="prefetch" href="/assets/0418.html.12a4a331.js"><link rel="prefetch" href="/assets/0422.html.37e0bb3a.js"><link rel="prefetch" href="/assets/0501.html.c77bcb4a.js"><link rel="prefetch" href="/assets/0614.html.55da0997.js"><link rel="prefetch" href="/assets/0224.html.f889f08a.js"><link rel="prefetch" href="/assets/404.html.ed8ee9ad.js"><link rel="prefetch" href="/assets/index.html.99346140.js"><link rel="prefetch" href="/assets/index.html.af8e74c3.js"><link rel="prefetch" href="/assets/index.html.fc412557.js"><link rel="prefetch" href="/assets/index.html.18cda9f6.js"><link rel="prefetch" href="/assets/index.html.1f9f86dc.js"><link rel="prefetch" href="/assets/index.html.c447c448.js"><link rel="prefetch" href="/assets/index.html.48e61a6c.js"><link rel="prefetch" href="/assets/index.html.13e5afce.js"><link rel="prefetch" href="/assets/index.html.5e010a5c.js"><link rel="prefetch" href="/assets/index.html.fc7ea39e.js"><link rel="prefetch" href="/assets/index.html.c8f9d1ca.js"><link rel="prefetch" href="/assets/index.html.a628ff68.js"><link rel="prefetch" href="/assets/index.html.8e4015cb.js"><link rel="prefetch" href="/assets/index.html.e790a73b.js"><link rel="prefetch" href="/assets/index.html.ce1e05d8.js"><link rel="prefetch" href="/assets/index.html.75110070.js"><link rel="prefetch" href="/assets/index.html.fc3c8dbb.js"><link rel="prefetch" href="/assets/index.html.6c212ae2.js"><link rel="prefetch" href="/assets/index.html.ae83a114.js"><link rel="prefetch" href="/assets/index.html.625498ee.js"><link rel="prefetch" href="/assets/index.html.d7199763.js"><link rel="prefetch" href="/assets/index.html.89368237.js"><link rel="prefetch" href="/assets/index.html.82615451.js"><link rel="prefetch" href="/assets/404.bcbc57ae.js"><link rel="prefetch" href="/assets/Categories.99100c62.js"><link rel="prefetch" href="/assets/Layout.490ef7fb.js"><link rel="prefetch" href="/assets/Post.b2b2aa2b.js"><link rel="prefetch" href="/assets/Timeline.7f57279d.js"><link rel="prefetch" href="/assets/reco-valine.88224ab5.js"><link rel="prefetch" href="/assets/bookNotes.04281d05.js"><link rel="prefetch" href="/assets/colorfulCard.879200f1.js"><link rel="prefetch" href="/assets/flowerCat.f1d32034.js"><link rel="prefetch" href="/assets/magicCard.0ce76dab.js"><link rel="prefetch" href="/assets/whirligig.de81ad98.js"><link rel="prefetch" href="/assets/irregularShadow.76e911db.js"><link rel="prefetch" href="/assets/normalShadow.99ce86b7.js">
    <link rel="stylesheet" href="/assets/style.388d3920.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/" class=""><img class="logo" src="/logo.png" alt="Ying&#39;s BlogğŸ—"><span class="site-name can-hide">Ying&#39;s BlogğŸ—</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾">å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾ <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾"><span class="title"><span>å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" aria-label="é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—"><!--[--><!--]--> é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://7gugu.com/" target="_blank" rel="noopener noreferrer" aria-label="7gugu&#39;s Blog"><!--[--><!--]--> 7gugu&#39;s Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://blog.starsharbor.com/" target="_blank" rel="noopener noreferrer" aria-label="â–æ˜Ÿæ¸¯â—Starâ˜†"><!--[--><!--]--> â–æ˜Ÿæ¸¯â—Starâ˜† <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://booop.net/" target="_blank" rel="noopener noreferrer" aria-label="booopçš„å°ç«™"><!--[--><!--]--> booopçš„å°ç«™ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.hsuyeung.com/" target="_blank" rel="noopener noreferrer" aria-label="HsuYeungçš„åšå®¢"><!--[--><!--]--> HsuYeungçš„åšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://nolanblog.top/" target="_blank" rel="noopener noreferrer" aria-label="é˜¿è±ªåšå®¢"><!--[--><!--]--> é˜¿è±ªåšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="è¯­é›€"><!--[--><!--]--> è¯­é›€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="é‚®ç®±lumang7520@126.com"><!--[--><!--]--> é‚®ç®±lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾">å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾ <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾"><span class="title"><span>å‹æƒ…é“¾æ¥ğŸ’ŒğŸ¾</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" aria-label="é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—"><!--[--><!--]--> é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://7gugu.com/" target="_blank" rel="noopener noreferrer" aria-label="7gugu&#39;s Blog"><!--[--><!--]--> 7gugu&#39;s Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://blog.starsharbor.com/" target="_blank" rel="noopener noreferrer" aria-label="â–æ˜Ÿæ¸¯â—Starâ˜†"><!--[--><!--]--> â–æ˜Ÿæ¸¯â—Starâ˜† <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://booop.net/" target="_blank" rel="noopener noreferrer" aria-label="booopçš„å°ç«™"><!--[--><!--]--> booopçš„å°ç«™ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.hsuyeung.com/" target="_blank" rel="noopener noreferrer" aria-label="HsuYeungçš„åšå®¢"><!--[--><!--]--> HsuYeungçš„åšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://nolanblog.top/" target="_blank" rel="noopener noreferrer" aria-label="é˜¿è±ªåšå®¢"><!--[--><!--]--> é˜¿è±ªåšå®¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="è¯­é›€"><!--[--><!--]--> è¯­é›€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="é‚®ç®±lumang7520@126.com"><!--[--><!--]--> é‚®ç®±lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">å°ç¨‹åºå¼€å‘ä¸­é‡åˆ°çš„æ³¨æ„ç‚¹ï¼ˆcontinue to updateâ€¦ï¼‰</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->å½±å¤§å®ğŸ§<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2023-09-15 08:00:00<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->å‰ç«¯å¼€å‘<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->å°ç¨‹åºå¼€å‘<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><h3 id="ç»„ä»¶ä¼ å‚-ä¸èƒ½ä½¿ç”¨é©¼å³°å‘½å-è¦ç”¨" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶ä¼ å‚-ä¸èƒ½ä½¿ç”¨é©¼å³°å‘½å-è¦ç”¨" aria-hidden="true">#</a> ç»„ä»¶ä¼ å‚ï¼Œä¸èƒ½ä½¿ç”¨é©¼å³°å‘½åï¼Œè¦ç”¨-</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- é”™è¯¯ç¤ºä¾‹ï¼š --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>  <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goProductDetail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-productId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{info.productId}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--  å³ä½¿ä¸Šé¢åˆ©ç”¨é©¼å³°å‘½åï¼Œè·å–çš„æ—¶å€™ä¹Ÿå–ä¸åˆ°productIdï¼Œåªèƒ½æ‹¿åˆ°productid --&gt;</span>
<span class="token comment">&lt;!-- æ­£ç¡®ç¤ºä¾‹ï¼š --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>  <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goProductDetail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-product-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{info.productId}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="e-currenttarget-datasetå’Œe-target-datasetçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#e-currenttarget-datasetå’Œe-target-datasetçš„åŒºåˆ«" aria-hidden="true">#</a> e.currentTarget.datasetå’Œe.target.datasetçš„åŒºåˆ«</h3><ul><li><p>e.target äº‹ä»¶æºç»„ä»¶å¯¹è±¡ï¼Œe.currentTarget å½“å‰ç»„ä»¶å¯¹è±¡ï¼›</p><p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-28_18-29-00.jpg" alt=""></p></li><li><p>ç”¨æˆ·ç‚¹å‡»äº†å†…å±‚çš„viewï¼Œæ˜¯è§¦å‘äº‹ä»¶çš„æºå¤´ï¼Œè€Œæ­£åœ¨è§¦å‘çš„äº‹ä»¶è¢«ç»‘å®šåœ¨å¤–å±‚çš„viewä¸­ï¼Œäºæ˜¯ï¼Œå½“æƒ³è¦è·å¾—å†…å±‚ç»„ä»¶çš„datasetæ—¶ï¼Œå°±è¦ä½¿ç”¨æŒ‡å‘è§¦å‘äº‹ä»¶çš„æºå¤´çš„e.targetã€‚ä»¥ä¸‹ï¼Œè§¦å‘äº‹ä»¶çš„ç»„ä»¶å’Œæ­£åœ¨è§¦å‘çš„ç»„ä»¶æ˜¯åŒä¸€ä¸ªï¼Œä¸¤ä¸ªéƒ½å¯ä»¥ç”¨ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parentFunc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">data-child</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="è‡ªå®šä¹‰ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰ç»„ä»¶" aria-hidden="true">#</a> è‡ªå®šä¹‰ç»„ä»¶</h3><p><a href="https://blog.csdn.net/weixin_55800388/article/details/125552924" target="_blank" rel="noopener noreferrer">å‚è€ƒ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="onloadæ‰§è¡Œæ—¶æœº" tabindex="-1"><a class="header-anchor" href="#onloadæ‰§è¡Œæ—¶æœº" aria-hidden="true">#</a> onLoadæ‰§è¡Œæ—¶æœº</h3><ol><li><p>ä¼šè§¦å‘å¯¼èˆªæ tabBaré¡µçš„<code>onLoad</code>:</p><ul><li>é¦–æ¬¡è¿›å…¥åˆ°æœ‰å¯¼èˆªæ çš„é¡µé¢</li><li>ä»å¾®ä¿¡åˆ†äº«è¿›å…¥åˆ°æœ‰å¯¼èˆªæ çš„é¡µé¢</li><li>è¯†åˆ«äºŒç»´ç è·³è½¬åˆ°æœ‰å¯¼èˆªæ çš„é¡µé¢</li><li>ä½¿ç”¨äº†<code>uni.reLaunch</code>åé”€æ¯äº†æ‰€æœ‰å…¶ä»–é¡µé¢</li></ul></li><li><p>étabBaré¡µæ‰§è¡ŒonLoadæ—¶æœºï¼Œåªè¦è¿›å…¥å°±ä¼šæ‰§è¡Œï¼›</p></li><li><p>æ— è®ºä»€ä¹ˆé¡µé¢ï¼Œåªè¦æ˜¾ç¤ºå°±ä¼šæ‰§è¡Œ onShow</p></li></ol><h3 id="onlaunch-å’Œ-onload-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#onlaunch-å’Œ-onload-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> onLaunch å’Œ onLoad ç”Ÿå‘½å‘¨æœŸ</h3><ol><li><p>æ‰§è¡Œæ—¶æœºï¼š</p><ul><li>onLaunchåœ¨å°ç¨‹åºå¯åŠ¨å¹¶å®Œæˆåˆå§‹åŒ–åè§¦å‘ï¼Œåªè§¦å‘ä¸€æ¬¡ï¼›</li><li>onLoadåœ¨ä¸€ä¸ªé¡µé¢å¼€å§‹åŠ è½½åˆ°å¸è½½è¿™ä¸ªé¡µé¢ä¹‹ä¸­æ˜¯ä¸€æ¬¡ï¼Œä½†è¿è¡Œè¿‡ç¨‹ä¸­ä¸æ­¢ä¸€æ¬¡ã€‚å¦‚åå¤è¿›å…¥ï¼ˆåŠ è½½ï¼‰å¹¶é€€å‡ºï¼ˆå¸è½½ï¼‰ã€‚</li></ul></li><li><p>ä¸åŒåœºæ™¯ï¼š</p><table><thead><tr><th>åœºæ™¯</th><th>onLaunch</th><th>onLoad</th></tr></thead><tbody><tr><td>ä¸‹æ‹‰å°ç¨‹åº</td><td>çŸ­æ—¶é—´ä¸æ‰§è¡Œ</td><td>çŸ­æ—¶é—´ä¸æ‰§è¡Œ</td></tr><tr><td>æ‰«æå¤ªé˜³ç </td><td>çŸ­æ—¶é—´ä¸æ‰§è¡Œ</td><td>æ‰§è¡Œ</td></tr><tr><td>reLaunch</td><td>çŸ­æ—¶é—´ä¸æ‰§è¡Œ</td><td>æ‰§è¡Œ</td></tr></tbody></table></li><li><p>æ‰§è¡Œé¡ºåºï¼š</p><ul><li>ä¸€èˆ¬onLaunchå…ˆäºonLoadï¼ŒåŒæ­¥è¯·æ±‚æ— æ³•ä¿è¯</li><li>è‹¥onLoadä¾èµ–onLaunchè¯·æ±‚çš„ç»“æœï¼Œå¯ä»¥å°†onLoadè¯·æ±‚æ”¾åˆ°onLaunchçš„å›è°ƒä¸­</li></ul><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->app.js<!--]--></span></a></button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->index.js<!--]--></span></a></button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">onLaunch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  wx<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> code <span class="token operator">=</span> res<span class="token punctuation">.</span>code<span class="token punctuation">;</span>
      <span class="token function">getUnionIdByCode</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        code
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span>constant<span class="token punctuation">.</span><span class="token constant">OPENID</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>model<span class="token punctuation">.</span>openIdMini<span class="token punctuation">)</span>
        wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span>constant<span class="token punctuation">.</span><span class="token constant">UNIONID</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>model<span class="token punctuation">.</span>unionId<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>checkScanCallback<span class="token punctuation">)</span><span class="token punctuation">{</span>
          that<span class="token punctuation">.</span><span class="token function">checkScanCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function-variable function">checkScanCallback</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> unionId <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span>constant<span class="token punctuation">.</span><span class="token constant">UNIONID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>unionId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">model</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">apiCheckScan</span><span class="token punctuation">(</span><span class="token punctuation">{</span> unionId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æœªæ‰«æè¿‡çš„æ‰«æå®Œæˆæ³¨å†Œ</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">hasScan</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div></li></ol><h3 id="è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±" aria-hidden="true">#</a> è·¯ç”±</h3><ol><li><code>wx.navigateTo</code>ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ï¼Œä½†ä¸èƒ½è·³åˆ° tabBar é¡µé¢ï¼›</li><li><code>wx.redirectTo</code>å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ï¼Œä½†ä¸å…è®¸è·³åˆ° tabBar é¡µé¢ï¼›</li><li><code>wx.switchTab</code>è·³è½¬åˆ° tabBar é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–æ‰€æœ‰é tabBar é¡µé¢ï¼›</li><li><code>wx.reLaunch</code>å…ˆå…³é—­æ‰€æœ‰é¡µé¢å†è·³è½¬åˆ°ä»»ä½•é¡µé¢ï¼›</li><li><code>wx.navigateBack</code>å…ˆå…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€çº§æˆ–å¤šçº§é¡µé¢ï¼›</li><li><code>&lt;navigator&gt;&lt;/navigator&gt;</code>ç»„ä»¶æ–¹å¼è·³è½¬ï¼š</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/pages/gd/gd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigateTo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ›´å¤š &gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="onreachbottomäº‹ä»¶ä¸è§¦å‘" tabindex="-1"><a class="header-anchor" href="#onreachbottomäº‹ä»¶ä¸è§¦å‘" aria-hidden="true">#</a> onReachBottomäº‹ä»¶ä¸è§¦å‘</h3><p>çˆ¶å…ƒç´ åŠ ä¸Š<code>overflowï¼šauto</code>ä¼šå¯¼è‡´onReachBottomäº‹ä»¶ä¸è§¦å‘ï¼ŒåŸå› æ˜¯é¡µé¢é«˜åº¦è¶…è¿‡å±å¹•å‡ºç°æ»šåŠ¨æ¡æ‰èƒ½è§¦å‘æ­¤äº‹ä»¶ã€‚</p><h3 id="é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç " tabindex="-1"><a class="header-anchor" href="#é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç " aria-hidden="true">#</a> é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç </h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>äºŒç»´ç å›¾ç‰‡åœ°å€<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-menu-by-longpress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- åˆ©ç”¨imageçš„show-menu-by-longpresså±æ€§ --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›´å¤šå‚è€ƒ<a href="https://blog.csdn.net/weixin_43937466/article/details/117572845" target="_blank" rel="noopener noreferrer">ã€Šè®¨è®ºä¸€ä¸‹å¾®ä¿¡å°ç¨‹åºä¸­å¦‚ä½•é•¿æŒ‰è¯†åˆ«å›¾ç‰‡ä¸­äºŒç»´ç è·³è½¬ã€‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="wx-showmodal" tabindex="-1"><a class="header-anchor" href="#wx-showmodal" aria-hidden="true">#</a> wx.showModal</h3><ul><li>confirmText çš„è‰²å€¼è®¾ç½®æ—¶ï¼Œå¾®ä¿¡è®¾ç½®æ·±è‰²ç³»ç»Ÿæ— ä½œç”¨ï¼›</li><li>æ‰‹æœºè¿”å›é”®ä¼šå°†å…¶å…³é—­ï¼Œè‹¥æœ‰å¼ºåˆ¶ä½¿ç”¨modalåœºæ™¯ï¼Œè‡ªå·±å°è£…ã€‚</li></ul><h3 id="wx-showtoastå’Œwx-showloadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª" tabindex="-1"><a class="header-anchor" href="#wx-showtoastå’Œwx-showloadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª" aria-hidden="true">#</a> wx.showToastå’Œwx.showLoadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª</h3><ul><li>å…³é—­loadingï¼Œwx.hideLoadingä¼šå¯¼è‡´wx.showToastå…³é—­ã€‚</li></ul><p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-04-30_10-20-20.jpg" alt=""></p><blockquote><p>ä¸¤è€…åŒºåˆ«ï¼šwx.showToastå±•ç¤ºæ—¶ï¼Œé¡µé¢å…¶ä»–å…ƒç´ æ˜¯å¯ä»¥ç‚¹å‡»çš„ï¼›wx.showLoadingå±•ç¤ºæ—¶ï¼Œé¡µé¢å…¶ä»–å…ƒç´ æ˜¯ä¸å¯ä»¥ç‚¹å‡»çš„ï¼ˆåƒåˆ›å»ºè®¢å•è¿™ç§ï¼Œå¯ä»¥ä½¿ç”¨wx.showLoadingæ¥é˜²æ­¢ç”¨æˆ·é¢‘ç¹æ“ä½œã€‚ï¼‰</p></blockquote><h3 id="åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ</h3><ul><li>è‹¥æ— ç‰¹æ®Šæƒ…å†µï¼Œå¯å†™åœ¨ onLoad ä¸­ï¼Œåˆ—è¡¨ç‚¹è¿›å»è¿”å›åˆ—è¡¨ï¼Œä¸é‡æ–°è¯·æ±‚æ¥å£ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒï¼›</li><li>è‹¥æœ‰ç‰¹æ®Šæƒ…å†µå¿…é¡»å†™åœ¨ onShow ä¸­ï¼Œä¸”å»é‡ï¼Œä¸å»é‡ä¼šå‡ºç°é‡å¤è¯·æ±‚ã€‚</li></ul><h3 id="è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ®" tabindex="-1"><a class="header-anchor" href="#è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ®" aria-hidden="true">#</a> è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ®</h3><p>æ³¨æ„ï¼šåˆ—è¡¨è¯·æ±‚æ”¾åœ¨ onLoad ä¸­ï¼Œä»å…¶ä»–é¡µé¢è¿”å›å¹¶æ›´æ–°åˆ—è¡¨æ•°æ®ï¼›æ”¾åœ¨ onShow é—®é¢˜æ¯”è¾ƒå¤šã€‚è§£å†³æ€è·¯æœ‰ä¸¤ä¸ªï¼š</p><ul><li>ä½¿ç”¨å¾®ä¿¡æä¾›çš„<code>eventChannel</code>ï¼Œä½†ä»…é™äºä¸¤ä¸ªé¡µé¢ï¼›<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//åœºæ™¯ï¼šAé¡µé¢ =&gt; Bé¡µé¢ =&gt; Aé¡µé¢ </span>
<span class="token comment">//Aé¡µé¢ï¼š</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ ç›‘å¬å™¨ï¼ˆäº‹ä»¶åå¯ä»¥è‡ªå®šä¹‰ï¼‰</span>
    <span class="token function-variable function">getMassMsgList</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      that<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">currentPage</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">list</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      that<span class="token punctuation">.</span><span class="token function">massList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//Bé¡µé¢ï¼š</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">delta</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">/*æ³¨æ„ï¼š
        â‘  ä¸‹æ–¹ä»£ç å†™åœ¨successä¸­ï¼Œæ— éœ€å…¶ä»–æ“ä½œï¼Œè¿”å›åˆ°ä¸Šä¸€é¡µï¼Œä¸Šä¸€ä¸ªé¡µé¢æ•°æ®å·²ç»æ›´æ–°ï¼Œæ»šåŠ¨æ¡ä¹Ÿåœ¨é¡¶éƒ¨ã€‚
        â‘¡ è‹¥ä¸‹æ–¹ä»£ç å†™åœ¨setTimeoutä¸Šé¢,ç”±äºå½“å‰é¡µé¢è¿˜æœªè¿”å›åˆ°ä¸Šä¸€é¡µï¼Œæ˜¯åœ¨å½“å‰é¡µé¢åŠ è½½ä¸Šä¸€é¡µçš„æ•°æ®ï¼Œ
          ç›´æ¥ä½¿ç”¨wx.pageScrollTo({scrollTop: 0,})ï¼Œç”±äºé’ˆå¯¹çš„æ˜¯å½“å‰é¡µé¢ï¼Œå¯¹ä¸Šä¸€é¡µæ— æ³•ç”Ÿæ•ˆï¼Œå¯ä»¥ä¼ é€’å‚æ•°
          åœ¨ä¸Šä¸€é¡µonShowä¸­åŠ åˆ¤æ–­ï¼Œä»è€Œè°ƒå–wx.pageScrollTo({scrollTop: 0,})
      */</span>
      <span class="token comment">// è·³è½¬æˆåŠŸä¹‹åï¼Œå‘å¸ƒè·å–ç¾¤å‘æ¶ˆæ¯åˆ—è¡¨äº‹ä»¶:</span>
      <span class="token keyword">const</span> eventChannel <span class="token operator">=</span> that<span class="token punctuation">.</span><span class="token function">getOpenerEventChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      eventChannel<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;getMassMsgList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>ä½¿ç”¨<code>getCurrentPages</code><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Aé¡µé¢ä»£ç </span>
<span class="token comment">/* 
  â‘  ç”±äºimçª—å£ä¸ç”ŸæˆæŠ¤è‚¤å»ºè®®å•é¡µé¢ä¸­é—´é—´éš”å…¶ä»–é¡µé¢ï¼Œæ— æ³•ä½¿ç”¨eventChannel
  â‘¡ ä½¿ç”¨å›è°ƒå‡½æ•°æ–¹å¼ï¼Œimçª—å£å£°æ˜ä¸‹æ–¹å›è°ƒï¼Œåœ¨åˆ›å»ºæŠ¤è‚¤å»ºè®®å•æˆåŠŸä¹‹åè·¯ç”±è·³è½¬ä¹‹å‰æ‰§è¡Œæ­¤å›è°ƒ
*/</span>
<span class="token function">historyMsgcallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">currentPage</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chatList</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getHistory</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// Bé¡µé¢ä»£ç </span>
<span class="token comment">/* æ³¨æ„ï¼šgetCurrentPages()è·å–è·¯ç”±æ ˆæ–¹æ³•ï¼š
  â‘  åœ¨wx.navigateBackä¹‹å‰è°ƒå–æ²¡é—®é¢˜(è¡¥å……ï¼Œè‹¥æœ‰ä¸šåŠ¡åœºæ™¯ï¼Œè¿”å›ä¸Šä¸€é¡µä¹‹åéœ€è¦å›åˆ°é¡¶éƒ¨
    å¯ä»¥åœ¨æ­¤å¤„ç›´æ¥æ”¹å˜ä¸Šä¸€é¡µæ•°æ®ï¼Œä¾‹å¦‚ï¼špage.setData({isBackTopï¼štrue}))
    ä¸Šä¸€é¡µæ ¹æ®isBackTopå­—æ®µåœ¨onShowç”Ÿå‘½å‘¨æœŸä¸­åšåˆ¤æ–­æ˜¯å¦è°ƒå–wx.pageScrollTo({scrollTop: 0,})ã€‚
  â‘¡ æ­¤æ–¹æ³•å†™åœ¨wx.navigateBackçš„successå›è°ƒä¸­ï¼Œéœ€è¦æ³¨æ„ï¼š
    a.iosç³»ç»Ÿï¼šè·å–åˆ°çš„è·¯ç”±æ ˆæ˜¯å·²ç»è¿”å›ä¸Šä¸€é¡µçš„ï¼Œå®‰å“ï¼šè·å–åˆ°çš„è·¯ç”±æ ˆæ˜¯æœªè¿”å›ä¹‹å‰çš„ï¼Œå–å€¼éœ€åŒºåˆ†ï¼›
    b.ä¹Ÿå¯ä»¥ä½¿ç”¨setTimeoutå»¶æ—¶500ms-1000msè·å–åˆ°è·¯ç”±æ ˆï¼Œæ­¤æ—¶è·¯ç”±æ ˆioså’Œå®‰å“æ˜¯ç›¸åŒçš„ï¼Œ
      å‡æ˜¯å·²ç»è¿”å›ä¸Šä¸€é¡µä¹‹åçš„ï¼Œå»¶æ—¶æ—¶é—´æ§åˆ¶æœ‰äº›ä¸ä¸¥è°¨ã€‚
*/</span>
<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>route <span class="token operator">===</span> <span class="token string">&quot;pages/chat/chatDetail/chatDetail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  page<span class="token punctuation">.</span><span class="token function">historyMsgcallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">delta</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ" aria-hidden="true">#</a> è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;navbar&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;{{navbar}}&quot;</span> data<span class="token operator">-</span>idx<span class="token operator">=</span><span class="token string">&quot;{{index}}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span> <span class="token literal-property property">wx</span><span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> bindtap<span class="token operator">=</span><span class="token string">&quot;changeTab&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{{currentTab==index ? &#39;active&#39; : &#39;&#39;}}&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&#39;line&#39;</span> <span class="token literal-property property">wx</span><span class="token operator">:</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;{{left}}&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;left:{{left}}px&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>

<span class="token function">changeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> query <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createSelectorQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
    query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&#39;.active&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">boundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    query<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _this<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>left <span class="token operator">+</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">114</span><span class="token operator">*</span>_this<span class="token punctuation">.</span>data<span class="token punctuation">.</span>ratio<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">12</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// å…ƒç´ left + å…ƒç´ å®½/2 - ä¸‹åˆ’çº¿å®½åº¦ï¼ˆrpx =&gt; pxï¼Œå•ä½åŠ¨æ€è½¬æ¢ï¼‰- æœ€å¤–è¾¹è·ï¼ˆæœ‰çš„æ²¡æœ‰ï¼‰</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="new-date-è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iosä¸å…¼å®¹" tabindex="-1"><a class="header-anchor" href="#new-date-è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iosä¸å…¼å®¹" aria-hidden="true">#</a> new Date()è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iOSä¸å…¼å®¹</h3><p>iOSæ— æ³•è¯†åˆ«&#39;-&#39;ï¼Œä½¿ç”¨<code>new Date((time)).replace(/-/g,&quot;/&quot;)</code>è½¬åŒ–æˆ&#39;/&#39;</p><h3 id="h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬" tabindex="-1"><a class="header-anchor" href="#h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬" aria-hidden="true">#</a> h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬</h3><p><strong>1. h5 =&gt; å°ç¨‹åº</strong>ï¼šå‚è€ƒ<a href="https://blog.csdn.net/GrootBaby/article/details/116294712" target="_blank" rel="noopener noreferrer">ã€Šå¾®ä¿¡å…¬ä¼—å·è·³è½¬å°ç¨‹åº wx-open-launch-weappã€‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œåˆ©ç”¨<code>wx-open-launch-weapp</code></p><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">INFO</p><p>jsæ¥å£å®‰å…¨åŸŸåä¸»è¦ç”¨äºå¾®ä¿¡å…¬ä¼—å·ï¼Œå¦‚æœå¤§å®¶è¦è¿›è¡Œå¾®ä¿¡çš„å¼€å‘ï¼Œåˆ›å»ºå…¬ä¼—å·æ˜¯éœ€è¦å¡«å†™jsæ¥å£å®‰å…¨åŸŸåçš„ã€‚å½“æˆ‘ä»¬è¿ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œç½‘ç»œæ˜¯ä¼šè‡ªåŠ¨éªŒè¯å®‰å…¨åŸŸåçš„ï¼Œå®ƒå¯ä»¥è§£å†³æœåŠ¡å™¨ç»ˆç«¯çš„è¯­è¨€é—®é¢˜ï¼Œèƒ½å¤Ÿè®©è®¿é—®æ­£å¸¸çš„è¿è¡Œï¼Œåªæœ‰ä½¿ç”¨å¥½jsæ¥å£å®‰å…¨åŸŸåï¼Œç½‘ä¸Šçš„ç”¨æˆ·æ‰èƒ½å¤Ÿè®¿é—®åˆ°ç½‘é¡µã€‚</p></div><ul><li>å¾®ä¿¡ JS-SDK é‰´æƒï¼Œéœ€ç™»å½•å¾®ä¿¡å…¬ä¼—å·å¹³å°è¿›å…¥å…¬ä¼—å·è®¾ç½®=&gt; åŠŸèƒ½è®¾ç½® =&gt; JSæ¥å£å®‰å…¨åŸŸå</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//éœ€è¦ä½¿ç”¨çš„apiåˆ—è¡¨</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">wxConfigApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">params</span><span class="token operator">:</span>url<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
      <span class="token parameter">value</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> data <span class="token operator">=</span> value<span class="token punctuation">;</span>
        wx<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">appId</span><span class="token operator">:</span> data<span class="token punctuation">.</span>appid<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span>
          <span class="token literal-property property">timestamp</span><span class="token operator">:</span> data<span class="token punctuation">.</span>timestamp<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°ç§’</span>
          <span class="token literal-property property">nonceStr</span><span class="token operator">:</span> data<span class="token punctuation">.</span>nonceStr<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span>
          <span class="token literal-property property">signature</span><span class="token operator">:</span> data<span class="token punctuation">.</span>signature<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç­¾å</span>
          <span class="token literal-property property">jsApiList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#39;chooseImage&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;startRecord&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;stopRecord&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;onVoiceRecordEnd&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;playVoice&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;pauseVoice&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;stopVoice&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;onVoicePlayEnd&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;uploadVoice&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;downloadVoice&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;getLocalImgData&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;hideMenuItems&#39;</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨</span>
          <span class="token literal-property property">openTagList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;wx-open-launch-weapp&#39;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// å¾®ä¿¡SDKå‡†å¤‡å°±ç»ªåæ‰§è¡Œçš„å›è°ƒã€‚</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>wx<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
          wx<span class="token punctuation">.</span><span class="token function">hideMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">menuList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;menuItem:copyUrl&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:appMessage&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:timeline&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:qq&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:weiboApp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:facebook&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;menuItem:share:QZone&quot;</span><span class="token punctuation">]</span> <span class="token comment">// å±è”½å¤åˆ¶é“¾æ¥</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wx-open-launch-weapp</span>
<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>launch-btn<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">username</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gh_b7eaeaa4472c<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pages/index/index.html<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/wxtag-template<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>è·³è½¬<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wx-open-launch-weapp</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#launch-btn</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. å°ç¨‹åº =&gt; h5</strong>ï¼Œåˆ©ç”¨<code>webview</code>:</p><ul><li>æ–°å»º webview æ–‡ä»¶å¤¹ï¼›</li><li>webview.wxmlæ–‡ä»¶ä¸­åªéœ€è¦å†™ä¸€è¡Œä»£ç <code>&lt;web-view src=&quot;{{url}}&quot;&gt;&lt;/web-view&gt;</code>ï¼›</li><li>webview.jsæ–‡ä»¶ä¸­è¿›è¡Œèµ‹å€¼ï¼š<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> options<span class="token punctuation">.</span>url
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>åœ¨éœ€è¦è·³è½¬çš„åœ°æ–¹ç›´æ¥ç”¨wx.navigateToè¿›è¡Œè·³è½¬ï¼Œå°†urlä¼ é€’è¿‡å»ï¼š<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">bannerLink</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> type <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
<span class="token keyword">const</span> redirectUrl <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
<span class="token comment">//1=h5é¡µé¢, 2=å°ç¨‹åºé¡µé¢</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;/pages/webView/webView?url=&quot;</span> <span class="token operator">+</span> redirectUrl
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> redirectUrl
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="åŠ¨æ€è®¾ç½®swiperé«˜åº¦" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€è®¾ç½®swiperé«˜åº¦" aria-hidden="true">#</a> åŠ¨æ€è®¾ç½®swiperé«˜åº¦</h3><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->wxmlæ–‡ä»¶<!--]--></span></a></button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->jsæ–‡ä»¶<!--]--></span></a></button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper</span> 
    <span class="token attr-name">autoplay</span> 
    <span class="token attr-name">circular</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">indicator-dots</span> 
    <span class="token attr-name">indicator-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rgba(39, 39, 39, .4)<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">indicator-active-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#272727<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>swiper-box<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">height:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>bannerImgHeightsArr[curIndex]<span class="token punctuation">}</span><span class="token punctuation">}</span>rpx<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
    <span class="token attr-name">bindchange</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>bannerSwitch<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-item</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>swiper-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{swiperList}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> 
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.imageUrl}}<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.redirectUrl}}<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.contentType}}<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bannerLink<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">bindload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageLoad<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>widthFix<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">imageLoad</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> imgW <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
      imgH <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
      ratio <span class="token operator">=</span> imgW <span class="token operator">/</span> imgH<span class="token punctuation">;</span>
  <span class="token comment">// æŒ‰ç…§å®½åº¦100%ï¼ˆ750ï¼‰æ¥å±•ç¤ºï¼Œè®¡ç®—bannerå›¾å¯¹åº”å±•ç¤ºçš„é«˜åº¦</span>
  <span class="token keyword">let</span> bannerViewHeight <span class="token operator">=</span> <span class="token number">750</span> <span class="token operator">/</span> ratio<span class="token punctuation">;</span>
  <span class="token keyword">let</span> bannerImgHeightsArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>bannerImgHeightsArr<span class="token punctuation">;</span>
  bannerImgHeightsArr<span class="token punctuation">[</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> bannerViewHeight<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">bannerImgHeightsArr</span><span class="token operator">:</span> bannerImgHeightsArr
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">bannerSwitch</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">curIndex</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>current
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†-åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†-åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶" aria-hidden="true">#</a> ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†(åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶)</h3><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->wxml<!--]--></span></a></button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M10 13l-1 2l1 2"></path><path d="M14 13l1 2l-1 2"></path></g></svg><span style="color:inherit;font-size:12px;" class="icon-text"><!--[-->js<!--]--></span></a></button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> 
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video_box<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.msgType === 3}}<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>playVideos<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.message.message}}<span class="token punctuation">&quot;</span></span> 
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> 
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info_img<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">binderror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errorCover<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">data-errorimg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>heightFix<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.errImgSrc?item.errImgSrc:item.message.cover}}<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">errorCover</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token operator">==</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> errorImgIndex <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>errorimg <span class="token comment">//è·å–é”™è¯¯å›¾ç‰‡å¾ªç¯çš„ä¸‹æ ‡</span>
    <span class="token keyword">const</span> newArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>chatList
    newArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">===</span>errorImgIndex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        item<span class="token punctuation">.</span>errImgSrc <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">chatList</span><span class="token operator">:</span>newArr
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘" tabindex="-1"><a class="header-anchor" href="#ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘" aria-hidden="true">#</a> ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘</h3><ul><li>å°è£…å¾®ä¿¡é€‰æ‹©æ–‡ä»¶ï¼Œé¦–å…ˆé€‰æ‹©èµ„æºï¼Œåˆ©ç”¨<code>wx.chooseMedia</code>,æ­¤apiçš„successå›è°ƒä¸­ä¼šè¿”å›æ–‡ä»¶ä¸´æ—¶è·¯å¾„ï¼Œæ³¨æ„ï¼šæ­¤ç»“æœæ˜¯ä¸ªæ•°ç»„ï¼ˆå› ä¸ºå¯ä»¥ä¸Šä¼ å¤šå¼ ï¼‰ã€‚<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// wxé€‰æ‹©æ–‡ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">chooseFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> mediaType<span class="token punctuation">,</span> sourceType</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">chooseMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> num<span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤1</span>
      <span class="token literal-property property">mediaType</span><span class="token operator">:</span> mediaType<span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥æŒ‡å®šç±»å‹æ˜¯å›¾ç‰‡è¿˜æ˜¯è§†é¢‘ï¼Œ[&#39;image&#39;, &#39;video&#39;]</span>
      <span class="token literal-property property">sourceType</span><span class="token operator">:</span> sourceType<span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥æŒ‡å®šæ˜¯æ‹æ‘„è¿˜æ˜¯é€‰åˆ™æ–‡ä»¶ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ [&#39;album&#39;, &#39;camera&#39;]</span>
      <span class="token literal-property property">maxDuration</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
      <span class="token literal-property property">camera</span><span class="token operator">:</span> <span class="token string">&#39;back&#39;</span><span class="token punctuation">,</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFiles<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>å°è£…å¾®ä¿¡ä¸Šä¼ æ–‡ä»¶<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//wxä¸Šä¼ æ–‡ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">uploadFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filePath<span class="token punctuation">,</span> isShow <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isShow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ä¸Šä¼ ä¸­&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>constant<span class="token punctuation">.</span><span class="token constant">HOST</span><span class="token punctuation">.</span>HfModuleApi<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> <span class="token string">&#39;/obs/file/obsUploadMPC&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">filePath</span><span class="token operator">:</span> filePath<span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;file&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;multipart/form-data&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">accept</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ­¤resä¸­çš„dataæ˜¯å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„æ•°æ®(é‡Œé¢åŒ…æ‹¬å›¾ç‰‡ä¸Šä¼ æˆåŠŸè¿”çš„ç½‘ç»œé“¾æ¥)</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isShow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            wx<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>model<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>ä½¿ç”¨è‡ªå®šä¹‰å°è£…çš„uploadFile<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å‘é€å›¾ç‰‡</span>
<span class="token keyword">async</span> <span class="token function">takingPicture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">chooseFile</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;image&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;camera&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;album&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token operator">&gt;</span><span class="token number">10485760</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;ä¸Šä¼ å¤±è´¥ï¼å›¾ç‰‡å¤§å°ä¸å¾—è¶…è¿‡10M&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> dataInfo <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tempFilePath<span class="token punctuation">)</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendMessageFn</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œ-éœ€æˆæƒ" tabindex="-1"><a class="header-anchor" href="#ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œ-éœ€æˆæƒ" aria-hidden="true">#</a> ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œï¼ˆéœ€æˆæƒï¼‰</h3><ul><li>ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œï¼Œéœ€è¦æˆæƒâ€œè®¿é—®ç›¸å†Œæƒé™â€</li><li>éœ€è¦ç”¨åˆ°<code>wx.saveImageToPhotosAlbumï¼ˆ{}ï¼‰</code>æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°<code>filePath</code>å¯ä»¥æ˜¯ä¸´æ—¶æ–‡ä»¶è·¯å¾„æˆ–æ°¸ä¹…æ–‡ä»¶è·¯å¾„ (æœ¬åœ°è·¯å¾„) ï¼Œä¸æ”¯æŒç½‘ç»œè·¯å¾„ã€‚</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;savePic&quot;</span> bindtap<span class="token operator">=</span><span class="token string">&quot;savePoster&quot;</span><span class="token operator">&gt;</span>
  ä¿å­˜å›¾ç‰‡
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token comment">// ä¿å­˜æµ·æŠ¥åˆ°ç›¸å†Œ</span>
<span class="token function">savePoster</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
  wx<span class="token punctuation">.</span><span class="token function">getSetting</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>authSetting<span class="token punctuation">[</span><span class="token string">&#39;scope.writePhotosAlbum&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        that<span class="token punctuation">.</span><span class="token function">saveImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>authSetting<span class="token punctuation">[</span><span class="token string">&#39;scope.writePhotosAlbum&#39;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        wx<span class="token punctuation">.</span><span class="token function">authorize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">scope</span><span class="token operator">:</span> <span class="token string">&#39;scope.writePhotosAlbum&#39;</span><span class="token punctuation">,</span>
          <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            that<span class="token punctuation">.</span><span class="token function">saveImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            that<span class="token punctuation">.</span><span class="token function">authConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        that<span class="token punctuation">.</span><span class="token function">authConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// æˆæƒæ‹’ç»åï¼Œå†æ¬¡æˆæƒæç¤ºå¼¹çª—</span>
<span class="token function">authConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
  wx<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;æ£€æµ‹åˆ°æ‚¨æ²¡æ‰“å¼€ä¿å­˜å›¾ç‰‡æƒé™ï¼Œæ˜¯å¦å»è®¾ç½®æ‰“å¼€ï¼Ÿ&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">confirmText</span><span class="token operator">:</span> <span class="token string">&quot;ç¡®è®¤&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cancelText</span><span class="token operator">:</span> <span class="token string">&quot;å–æ¶ˆ&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        wx<span class="token punctuation">.</span><span class="token function">openSetting</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>authSetting<span class="token punctuation">[</span><span class="token string">&#39;scope.writePhotosAlbum&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              that<span class="token punctuation">.</span><span class="token function">saveImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ‚¨æ²¡æœ‰æˆæƒï¼Œæ— æ³•ä¿å­˜åˆ°ç›¸å†Œ&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;none&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ‚¨æ²¡æœ‰æˆæƒï¼Œæ— æ³•ä¿å­˜åˆ°ç›¸å†Œ&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;none&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//ä¿å­˜å›¾ç‰‡</span>
<span class="token function-variable function">saveImg</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> imgUrl <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span> <span class="token comment">//éœ€è¦ä¿å­˜çš„å›¾ç‰‡åœ°å€</span>
  wx<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> imgUrl<span class="token punctuation">,</span>
    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// åªè¦æœåŠ¡å™¨æœ‰å“åº”æ•°æ®ï¼Œå°±ä¼šæŠŠå“åº”å†…å®¹å†™å…¥æ–‡ä»¶å¹¶è¿›å…¥ success å›è°ƒï¼Œä¸šåŠ¡éœ€è¦è‡ªè¡Œåˆ¤æ–­æ˜¯å¦ä¸‹è½½åˆ°äº†æƒ³è¦çš„å†…å®¹</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;downloadFileres&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      wx<span class="token punctuation">.</span><span class="token function">saveImageToPhotosAlbum</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">filePath</span><span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">,</span>
        <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ä¿å­˜å›¾ç‰‡ï¼šsuccess&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ä¿å­˜æˆåŠŸ&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
          wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ä¿å­˜å¤±è´¥&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/vuepress-reco/vuepress-theme-reco-next/edit/main/example/blogs/category1/2023/0915.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><div class="meta-item last-updated"><a class="icon-container left meta-item-label" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.795 21H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><circle cx="18" cy="18" r="4"></circle><path d="M15 3v4"></path><path d="M7 3v4"></path><path d="M3 11h16"></path><path d="M18 16.496V18l1 1"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Last Updated 2024-05-03 13:49:57<!--]--></span></a></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#ç»„ä»¶ä¼ å‚-ä¸èƒ½ä½¿ç”¨é©¼å³°å‘½å-è¦ç”¨" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="ç»„ä»¶ä¼ å‚ï¼Œä¸èƒ½ä½¿ç”¨é©¼å³°å‘½åï¼Œè¦ç”¨-"><!--[--><!--]--> ç»„ä»¶ä¼ å‚ï¼Œä¸èƒ½ä½¿ç”¨é©¼å³°å‘½åï¼Œè¦ç”¨- <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#e-currenttarget-datasetå’Œe-target-datasetçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="e.currentTarget.datasetå’Œe.target.datasetçš„åŒºåˆ«"><!--[--><!--]--> e.currentTarget.datasetå’Œe.target.datasetçš„åŒºåˆ« <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#è‡ªå®šä¹‰ç»„ä»¶" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="è‡ªå®šä¹‰ç»„ä»¶"><!--[--><!--]--> è‡ªå®šä¹‰ç»„ä»¶ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#onloadæ‰§è¡Œæ—¶æœº" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="onLoadæ‰§è¡Œæ—¶æœº"><!--[--><!--]--> onLoadæ‰§è¡Œæ—¶æœº <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#onlaunch-å’Œ-onload-ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="onLaunch å’Œ onLoad ç”Ÿå‘½å‘¨æœŸ"><!--[--><!--]--> onLaunch å’Œ onLoad ç”Ÿå‘½å‘¨æœŸ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#è·¯ç”±" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="è·¯ç”±"><!--[--><!--]--> è·¯ç”± <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#onreachbottomäº‹ä»¶ä¸è§¦å‘" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="onReachBottomäº‹ä»¶ä¸è§¦å‘"><!--[--><!--]--> onReachBottomäº‹ä»¶ä¸è§¦å‘ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç " class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç "><!--[--><!--]--> é•¿æŒ‰è¯†åˆ«å›¾ç‰‡äºŒç»´ç  <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#wx-showmodal" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="wx.showModal"><!--[--><!--]--> wx.showModal <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#wx-showtoastå’Œwx-showloadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="wx.showToastå’Œwx.showLoadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª"><!--[--><!--]--> wx.showToastå’Œwx.showLoadingåªèƒ½æ˜¾ç¤ºä¸€ä¸ª <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ"><!--[--><!--]--> åˆ—è¡¨æ¥å£è¯·æ±‚å¯¹åº”ç”Ÿå‘½å‘¨æœŸ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ®" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ®"><!--[--><!--]--> è¿”å›ä¸Šä¸€ä¸ªåˆ—è¡¨é¡µé¢å¹¶æ›´æ–°æ•°æ® <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ"><!--[--><!--]--> è‡ªå®šä¹‰tabç‚¹å‡»æ—¶ä¸‹åˆ’çº¿æ»‘åŠ¨æœ‰åŠ¨æ•ˆ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#new-date-è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iosä¸å…¼å®¹" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="new Date()è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iOSä¸å…¼å®¹"><!--[--><!--]--> new Date()è½¬æ¢æ—¶é—´æ—¶é—´æ ¼å¼æ—¶iOSä¸å…¼å®¹ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬"><!--[--><!--]--> h5ä¸å¾®ä¿¡å°ç¨‹åºé—´çš„è·³è½¬ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#åŠ¨æ€è®¾ç½®swiperé«˜åº¦" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="åŠ¨æ€è®¾ç½®swiperé«˜åº¦"><!--[--><!--]--> åŠ¨æ€è®¾ç½®swiperé«˜åº¦ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†-åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†(åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶)"><!--[--><!--]--> ç…§ç‰‡åŠ è½½å¤±è´¥å¤„ç†(åˆ©ç”¨imageæ ‡ç­¾çš„binderroräº‹ä»¶) <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘"><!--[--><!--]--> ä¸Šä¼ å›¾ç‰‡æˆ–è§†é¢‘ <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2023/0915.html#ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œ-éœ€æˆæƒ" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œï¼ˆéœ€æˆæƒï¼‰"><!--[--><!--]--> ä¿å­˜ç…§ç‰‡åˆ°ç›¸å†Œï¼ˆéœ€æˆæƒï¼‰ <!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.4ad97c89.js" defer></script>
  </body>
</html>
